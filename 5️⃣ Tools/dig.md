## 🛠️ **أداة DIG - تحليل أسماء النطاقات (DNS) ببساطة**

**DIG (Domain Information Groper)** هي أداة قوية تُستخدم لاستعلام نظام أسماء النطاقات (DNS) لمعرفة معلومات حول أي موقع أو سيرفر.

---

## 📌 **لماذا نستخدم DIG؟**

🔹 معرفة عنوان IP لموقع معين.  
🔹 معرفة خوادم الـ DNS الخاصة بموقع معين.  
🔹 معرفة السجلات المهمة مثل **MX (البريد)** و **TXT (الأمان)**.  
🔹 اختبار أمان النطاقات وكشف أي إعدادات خاطئة.
## 🛠️ **جميع أوامر أداة DIG لاختبار DNS بالتفصيل**
## ✅ **1. الأوامر الأساسية**

### 🔸 **1.1 البحث عن عنوان IP لموقع معين (سجل A)**

```bash
dig example.com A
```

🔹 **يُظهر عنوان IP المرتبط بالموقع**.

---

### 🔸 **1.2 البحث عن جميع السجلات (ANY)**

```bash
dig example.com ANY
```

🔹 **يعرض جميع أنواع السجلات المتاحة للنطاق** مثل **A, MX, NS, TXT, CNAME...**

---

### 🔸 **1.3 البحث عن خوادم DNS لموقع معين (NS - Name Server)**

```bash
dig example.com NS
```

🔹 **يعرض خوادم أسماء النطاق (DNS Servers) المسؤولة عن النطاق**.

---

### 🔸 **1.4 البحث عن سجل البريد الإلكتروني (MX - Mail Exchange)**

```bash
dig example.com MX
```

🔹 **يعرض خوادم البريد الإلكتروني المستخدمة بواسطة النطاق**.

---

### 🔸 **1.5 البحث عن سجل CNAME (Canonical Name - إعادة توجيه النطاق)**

```bash
dig www.example.com CNAME
```

🔹 **يُظهر إذا كان النطاق يستخدم إعادة توجيه إلى نطاق آخر**.

---

### 🔸 **1.6 البحث عن سجل TXT (سجلات النصوص – تُستخدم في الأمان)**

```bash
dig example.com TXT
```

🔹 **يُظهر بيانات الأمان مثل SPF, DKIM, DMARC** المستخدمة في تأمين البريد الإلكتروني.

---

### 🔸 **1.7 البحث عن سجل SOA (Start of Authority - بداية النطاق)**

```bash
dig example.com SOA
```

🔹 **يُظهر معلومات النطاق الرئيسية مثل مسؤول الإدارة ووقت التحديث**.

---

### 🔸 **1.8 البحث عن سجل AAAA (IPv6 Address)**

```bash
dig example.com AAAA
```

🔹 **يُظهر عنوان IPv6 الخاص بالموقع**.

---

## ✅ **2. البحث عبر سيرفر DNS معين**

### 🔸 **2.1 استخدام Google DNS (8.8.8.8)**

```bash
dig @8.8.8.8 example.com
```

🔹 **يُجري الاستعلام باستخدام سيرفر Google DNS**.

---

### 🔸 **2.2 استخدام Cloudflare DNS (1.1.1.1)**

```bash
dig @1.1.1.1 example.com
```

🔹 **يُجري الاستعلام باستخدام سيرفر Cloudflare**.

---

### 🔸 **2.3 استخدام OpenDNS (208.67.222.222)**

```bash
dig @208.67.222.222 example.com
```

🔹 **يُجري الاستعلام باستخدام OpenDNS**.

---

## ✅ **3. الحصول على تفاصيل متقدمة**

### 🔸 **3.1 البحث مع عرض تفاصيل إضافية (Debug Mode)**

```bash
dig +trace example.com
```

🔹 **يُظهر المسار الكامل الذي يستخدمه DNS للوصول إلى الموقع**.

---

### 🔸 **3.2 البحث باستخدام TCP بدلاً من UDP**

```bash
dig +tcp example.com
```

🔹 **يُجبر الاستعلام على استخدام بروتوكول TCP بدلاً من UDP**.

---

### 🔸 **3.3 إظهار الوقت المستغرق في الاستعلام**

```bash
dig example.com +stats
```

🔹 **يعرض الوقت المستغرق في تنفيذ الطلب والمعلومات التقنية**.

---

### 🔸 **3.4 تقليل التفاصيل وعرض البيانات المهمة فقط**

```bash
dig example.com +short
```

🔹 **يُظهر فقط المعلومات الرئيسية بدون تفاصيل إضافية**.

---

### 🔸 **3.5 استعلامات DNS العكسية (Reverse Lookup)**

```bash
dig -x 8.8.8.8
```

🔹 **يُستخدم لاكتشاف اسم النطاق المرتبط بعنوان IP معين**.

---

## ✅ **4. تنفيذ هجمات جمع المعلومات باستخدام DIG**

### 🔹 **4.1 اكتشاف جميع السجلات لموقع معين**

```bash
dig example.com ANY
```

🔹 **يُستخدم لجمع معلومات عن جميع أنواع السجلات المتاحة للموقع**.

---

### 🔹 **4.2 البحث عن خوادم البريد لاستهدافها بهجمات التصيد (Phishing)**

```bash
dig example.com MX
```

🔹 **يُظهر خوادم البريد التي يمكن استخدامها في هجمات التصيد الإلكتروني**.

---

### 🔹 **4.3 اكتشاف خوادم DNS الضعيفة لتنفيذ هجوم Zone Transfer**

```bash
dig @dns1.example.com example.com AXFR
```

🔹 **إذا كان السيرفر يسمح بـ Zone Transfer، سيُظهر جميع بيانات النطاق، مما يساعد على اختراقه**.

---

### 🔹 **4.4 استخراج عناوين IP الخاصة بالسيرفرات لاستهدافها في اختبار الاختراق**

```bash
dig example.com A +short
```

🔹 **يُظهر عناوين IP الخاصة بالموقع، والتي يمكن استخدامها في الهجمات على السيرفرات**.

---

### 🔹 **4.5 استعلامات DNS العكسية لاكتشاف النطاقات المرتبطة بعنوان IP معين**

```bash
dig -x 192.168.1.1
```

🔹 **يُستخدم لاكتشاف أي مواقع مرتبطة بعنوان IP معين**.

---

## ✅ **5. البحث عن نطاقات فرعية (Subdomains Enumeration)**

### 🔹 **5.1 استخدام Dig لاكتشاف النطاقات الفرعية يدويًا**

```bash
dig sub.example.com A
```

🔹 **جرب إدخال أسماء مختلفة مثل `mail.example.com` أو `admin.example.com` للعثور على النطاقات الفرعية**.

---

### 🔹 **5.2 استخدام Dig مع ملف يحتوي على قائمة بالنطاقات الفرعية**

```bash
for sub in $(cat subdomains.txt); do dig $sub.example.com A +short; done
```

🔹 **يتم استعلام جميع النطاقات الفرعية الموجودة في `subdomains.txt`**.

---

## 🎯 **🔥 الخلاصة النهائية**
🔹 تُستخدم لمعرفة **عناوين IP، خوادم البريد، خوادم DNS، والسجلات الأمنية**.  
🔹 تُعتبر **أداة أساسية في اختبار الاختراق** وجمع المعلومات. ✅🚨