## **📌 شرح Checking for Public API Keys بأبسط وأعمق طريقة ممكنة**

---

## **🟢 1. ما هي Public API Keys؟**

🔹 الـ **API Key** هو **مفتاح تعريف فريد** يُستخدم للوصول إلى خدمات الـ API والتأكد من أن المستخدم **مصرح له** باستخدامها.  
🔹 بعض الـ APIs تتطلب مفتاحًا للوصول إليها، مثل:

- **Google Maps API** (للحصول على الخرائط والاتجاهات)
- **Twitter API** (للوصول إلى التغريدات والبيانات)
- **OpenWeather API** (لجلب بيانات الطقس)

⚠️ المشكلة تبدأ عندما يكون المفتاح **مكشوفًا للعامة (Public API Key)**، مما يعني أن أي شخص يمكنه استخدامه بدون إذن!

📌 **مثال على API Key مكشوف في كود JavaScript:**

```javascript
const apiKey = "123456789abcdef";  
fetch(`https://api.example.com/data?key=${apiKey}`)
```

✅ إذا كان هذا الكود مكشوفًا في الموقع، فيمكن لأي شخص نسخه واستخدامه.

### **💡 الخلاصة:**

🔹 Public API Key هو **مفتاح API مكشوف** يمكن لأي شخص الوصول إليه واستخدامه بدون إذن.  
🔹 قد يؤدي ذلك إلى **إساءة الاستخدام** أو **التسبب في مشاكل أمنية** أو **تحميلك تكاليف غير متوقعة**.

---

## **🟢 2. لماذا تعتبر Public API Keys خطيرة؟**

1️⃣ **إساءة الاستخدام (Abuse)**

- يمكن للمهاجم استخدام المفتاح لتنفيذ آلاف الطلبات، مما يؤدي إلى استهلاك **الحد الأقصى** للمفتاح وجعل الخدمة غير متاحة لك.

2️⃣ **تسريب البيانات (Data Leakage)**

- بعض الـ APIs يمكن أن تعرض معلومات حساسة عند استخدامها بمفتاح صحيح.
- **مثال:** إذا كان هناك API خاص بموقع بنكي، فقد يتمكن المهاجم من سحب بيانات المستخدمين إذا كان المفتاح مكشوفًا.

3️⃣ **التكاليف المالية (Billing Issues)**

- بعض الخدمات مثل **Google Cloud و AWS** تحاسبك على عدد الطلبات باستخدام API Key.
- إذا استخدم شخص آخر مفتاحك، قد تتلقى **فاتورة ضخمة** دون علمك!

### **💡 الخلاصة:**

🔹 المفتاح المكشوف يمكن أن يُستخدم **لاستهلاك الموارد**، **سرقة البيانات**، أو **تحميلك تكاليف غير متوقعة**.  
🔹 من الضروري التأكد من **عدم تسريب المفاتيح** وحمايتها من الاستخدام غير المصرح به.

---

## **🟢 3. كيف نبحث عن Public API Keys؟**

### **🔹 1. البحث في كود JavaScript المكشوف**

✅ افتح **Developer Tools** في المتصفح (**F12**).  
✅ انتقل إلى **Sources** وابحث عن `"apiKey"` أو `"key="`.  
✅ يمكن أن تجد مفاتيح API مكشوفة في ملفات JavaScript العامة.

📌 **مثال على البحث في الكود باستخدام Ctrl + F**

```javascript
const apiKey = "AIzaSyB123456";
```

### **💡 الخلاصة:**

🔹 يمكن العثور على Public API Keys في **أكواد JavaScript** المكشوفة داخل الموقع.

---

### **🔹 2. البحث في ملفات البيئة (Configuration Files)**

✅ بعض المفاتيح تكون مخزنة في ملفات تكوين مثل:

- `.env`
- `config.json`  
    ✅ إذا تم رفع هذه الملفات إلى GitHub عن طريق الخطأ، فقد تكون المفاتيح مكشوفة للعامة.

📌 **مثال على مفتاح في ملف `.env`:**

```plaintext
API_KEY=123456789abcdef
```

### **💡 الخلاصة:**

🔹 بعض المفاتيح قد تكون مكشوفة في **ملفات التكوين**، خاصة إذا تم رفعها بالخطأ إلى الإنترنت.

---

### **🔹 3. البحث باستخدام أدوات OSINT**

✅ **Google Dorking**: البحث عن مفاتيح API في الإنترنت باستخدام جوجل.  
🔍 **مثال على Google Dork للبحث عن مفاتيح Google Maps API:**

```plaintext
inurl:.env "GOOGLE_API_KEY"
```

✅ **GitHub Dorking**: البحث عن مفاتيح API المخزنة عن طريق الخطأ في GitHub.  
🔍 **مثال على البحث في GitHub:**

```plaintext
"API_KEY=" language:Python
```

### **💡 الخلاصة:**

🔹 يمكن العثور على مفاتيح API مكشوفة باستخدام **Google Dorking** أو **GitHub Dorking**.

---

## **🟢 4. كيف نحمي API Keys من التسريب؟**

✅ **لا تحفظ المفاتيح في كود JavaScript المكشوف.**  
✅ **استخدم ملفات `.env` لحفظ المفاتيح، وتأكد من عدم رفعها إلى GitHub.**  
✅ **استخدم قيود (Restrictions) على API Keys بحيث تعمل فقط مع نطاقات أو عناوين IP معينة.**  
✅ **استخدم خدمات مراقبة مثل TruffleHog لاكتشاف المفاتيح المكشوفة في المستودعات.**

### **💡 الخلاصة:**

🔹 أفضل طريقة لحماية API Keys هي **إخفاؤها وعدم تخزينها في الأماكن العامة**.

---

## **🛠️ الخطوات العملية لاكتشاف Public API Keys بنفسك**

### **🔴 الطريقة اليدوية (البحث في الأكواد والملفات)**

✅ افتح الموقع في **Developer Tools** واضغط **F12**.  
✅ اذهب إلى **Sources** وابحث عن `"apiKey"` أو `"key="`.  
✅ افحص ملفات `.env` و `config.json` في المشاريع.

---

### **🔵 الطريقة التلقائية (باستخدام الأدوات)**

✅ استخدم **Google Dorking** أو **GitHub Dorking** للبحث عن المفاتيح المكشوفة.  
✅ استخدم **truffleHog** أو **git-secrets** لاكتشاف المفاتيح في المستودعات.

---

## **🔥 الخلاصة النهائية**

✅ **Public API Keys هي مفاتيح API مكشوفة يمكن لأي شخص استخدامها.**  
✅ **قد تؤدي إلى استغلال غير مصرح به، تسريب بيانات، أو تكاليف مالية غير متوقعة.**  
✅ **يمكن اكتشافها من خلال البحث في JavaScript، ملفات التكوين، أو باستخدام OSINT tools.**  
✅ **لحمايتها، لا تخزنها في كود مكشوف، واستخدم قيود الوصول على المفاتيح.**

💡 **الآن، جرب بنفسك وابحث عن مفاتيح API المكشوفة في المواقع! 🚀**