# **📌 فحص الخدمات والإصدارات (OS & Service Enumeration) بأبسط طريقة وأعمق شرح 🔍**

---

## **1️⃣ يعني إيه فحص الخدمات والإصدارات؟**

تخيل إنك داخل على شركة ومعاك مفتاح الباب الرئيسي، بس جوا الشركة فيه أوض كتير وكل أوضة فيها ناس شغالة على حاجات مختلفة. **المهمة بتاعتك كهاكر إنك تعرف كل الأوض دي شغالة بإيه، ومين اللي فيها، وإيه نقاط الضعف اللي ممكن تستغلها.**

✅ الخدمات (Services) هي البرامج اللي شغالة على السيرفر، زي:

- **HTTP (سيرفر الويب) 🌍**
- **SSH (للدخول عن بعد) 🔑**
- **FTP (لنقل الملفات) 📂**
- **SMB (مشاركة الملفات في ويندوز) 🖥️**

✅ كل خدمة بيبقى ليها **إصدار معين**، وده مهم لأن الإصدارات القديمة بيكون فيها **ثغرات معروفة** ممكن تستخدمها للاختراق.

🎯 **المطلوب منك كـ Pentester هو:**

1. **تعرف كل الخدمات اللي شغالة على السيرفر**.
2. **تجيب إصداراتها بالضبط**.
3. **تدور على ثغراتها في قواعد بيانات زي Exploit-DB أو CVE Details**.

---

## **2️⃣ إزاي تكتشف الخدمات والإصدارات؟ (خطوة بخطوة) 🕵️‍♂️**

### **📌 الخطوة 1: استخدم [[Nmap]] لفحص الخدمات والبورتات المفتوحة**

🔹 **Nmap هو أقوى أداة للكشف عن الخدمات، جرب ده:**

```bash
nmap -sV <IP>
```

🎯 **النتيجة المتوقعة:**

```
22/tcp  open  ssh     OpenSSH 7.9
80/tcp  open  http    Apache 2.4.29
445/tcp open  smb     Windows Server 2016
```

🔥 **كده عرفت إن الجهاز عليه:**

- ال**SSH شغال بإصدار OpenSSH 7.9**
- **سيرفر ويب شغال على Apache 2.4.29**
- **خدمة SMB شغالة على Windows Server 2016**

---

### **📌 الخطوة 2: جرب الوضع الهجومي (Aggressive Mode) في Nmap 🔥**

🔹 **لو عايز تفاصيل أكتر عن النظام، جرب:**

```bash
nmap -A <IP>
```

🎯 ده هيجيب لك:

- **نظام التشغيل (OS Detection) 🖥️**
- **تفاصيل عن كل خدمة**
- **الـ Hostname والمنافذ المفتوحة**

---

### **📌 الخطوة 3: استخدم [[Netcat]] للاتصال المباشر بالخدمة**

🔹 **لو عايز تعرف نوع سيرفر الويب بدون Nmap، استخدم Netcat:**

```bash
nc -v <IP> 80
```

🎯 **لو طلع لك:**

```
Apache/2.4.29 (Ubuntu)
```

يبقى **السيرفر ده Apache على Ubuntu**، ولو عرفت إن الإصدار قديم، تقدر تدور على ثغراته.

---

### **📌 الخطوة 4: لو السيرفر ويندوز، استخدم [[Enum4Linux]]**

🔹 **لو بتتعامل مع سيرفر ويندوز، جرب:**

```bash
enum4linux <IP>
```

🎯 ده ممكن يجيب لك:

- **المستخدمين الموجودين على السيرفر**
- **الـ Shares اللي ممكن تدخل عليها**
- **الإعدادات الأمنية**

---

## **🔥 الخلاصة بالعامية 🔥**

✅ عشان تعرف الخدمات والإصدارات، استخدم:

```bash
nmap -sV <IP>
```

✅ عشان تجيب تفاصيل أكتر عن النظام، استخدم:

```bash
nmap -A <IP>
```

✅ عشان تجرب سيرفر الويب يدويًا، استخدم:

```bash
nc -v <IP> 80
```

✅ لو السيرفر ويندوز وعايز تعرف المستخدمين والـ Shares، استخدم:

```bash
enum4linux <IP>
```

🚀 **كده انت عرفت السيرفر شغال بإيه، الخطوة الجاية إنك تدور على الثغرات وتستغلها! 🔥💀**

---

# **📌 الخطوات العملية لـ Web Penetration Testing 🕵️‍♂️**

لو عايز تعمل اختبار اختراق لموقع ويب، امشي بالخطوات دي:

### **1️⃣ جمع المعلومات (Information Gathering) 🔍**

✅ فحص الدومين باستخدام [[WHOIS]]:

```bash
whois example.com
```

✅ البحث عن النطاقات الفرعية باستخدام [[Sublist3r]]:

```bash
sublist3r -d example.com
```

✅ فحص المنافذ المفتوحة والخدمات باستخدام Nmap:

```bash
nmap -sV -A example.com
```

---

### **2️⃣ فحص الثغرات (Vulnerability Scanning) 🔥**

✅ استخدم [[Nikto]] لاكتشاف الثغرات في سيرفر الويب:

```bash
nikto -h http://example.com
```

✅ استخدم [[WPScan]] لو الموقع ووردبريس:

```bash
wpscan --url example.com --enumerate
```

✅ استخدم [[SQLmap]] لو شاكك إن فيه SQL Injection:

```bash
sqlmap -u "http://example.com/page.php?id=1" --dbs
```

---

### **3️⃣ استغلال الثغرات (Exploitation) 🚀**

✅ لو لقيت SQL Injection، استخدم SQLmap عشان تسحب الداتا.  
✅ لو الموقع عنده XSS، جرب إرسال سكريبتات لجلب الـ Cookies.  
✅ لو السيرفر عليه خدمة قديمة، دور على Exploit ليها في Exploit-DB.

---

### **4️⃣ رفع الامتيازات (Privilege Escalation) 🏆**

✅ لو دخلت السيرفر، جرب:

```bash
sudo -l
```

✅ جرب تسحب ملفات حساسة زي:

```bash
cat /etc/passwd
```

---

### **5️⃣ التحكم الكامل (Post Exploitation) 💀**

✅ لو قدرت تاخد صلاحيات الرووت، ثبت Backdoor عشان تدخل تاني بسهولة.  
✅ اجمع كل البيانات المهمة:

```bash
find / -type f -iname "*password*"
```

---

## **🔥 الخلاصة بالعامية 🔥**

🛠️ **الخطوات العملية لاختبار اختراق المواقع:**  
1️⃣ **جمع المعلومات:** فحص الدومين، النطاقات الفرعية، والخدمات المفتوحة.  
2️⃣ **البحث عن الثغرات:** باستخدام Nikto، WPScan، SQLmap.  
3️⃣ **استغلال الثغرات:** SQL Injection، XSS، استغلال الخدمات القديمة.  
4️⃣ **رفع الامتيازات:** البحث عن صلاحيات الرووت أو الملفات الحساسة.  
5️⃣ **التحكم الكامل:** تثبيت Backdoor وسحب البيانات.

🚀 **كده بقى عندك خريطة كاملة لاختبار اختراق أي موقع ويب 🔥💀**