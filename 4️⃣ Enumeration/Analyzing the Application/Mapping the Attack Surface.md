# **🎯 الفكرة العامة**

أي تطبيق ويب بيكون ليه **نقاط ضعف محتملة**، والهاكر بيحاول يحددها عشان يشوف إزاي ممكن يستغلها.  
المرحلة دي بتعتمد على **تجميع كل المعلومات عن التطبيق**، زي:

- الصفحات المهمة
- المدخلات اللي بيستخدمها المستخدم
- الأكواد اللي بتشتغل في الخلفية
- البيانات اللي بيتم تبادلها بين المستخدم والسيرفر

### **الهدف الأساسي:**  
📌 نحدد كل الأماكن اللي ممكن يكون فيها ثغرات ونحضر نفسنا للهجوم عليها.

---

# **1️⃣ إيه هو سطح الهجوم؟**

سطح الهجوم هو **كل الطرق اللي ممكن تهاجم بيها التطبيق**، وبيتكون من:

🔹 **نقاط إدخال المستخدم** زي (النماذج – البحث – تسجيل الدخول – رفع الملفات).  
🔹 **الروابط والصفحات المخفية** اللي مش ظاهرة للمستخدم العادي.  
🔹 **استدعاءات الـ API** اللي بتتحكم في البيانات بين المستخدم والسيرفر.  
🔹 **الملفات والمجلدات المخفية** اللي ممكن تحتوي على معلومات حساسة.  
🔹 **البرمجيات المستخدمة في السيرفر** والـ Frameworks اللي بيشتغل عليها الموقع.

🔥 **كل ما قدرت تحدد الأماكن دي، كل ما زادت فرصتك في إيجاد ثغرات قوية!**

### **🔎 الخلاصة:**

✅ سطح الهجوم هو كل نقطة ممكن تهاجم التطبيق منها.  
✅ يشمل **المدخلات، الروابط المخفية، استدعاءات API، المجلدات المخفية، والتكنولوجيا المستخدمة في السيرفر**.

---

# **2️⃣ إزاي نحدد سطح الهجوم؟**

## **📌 (1) فحص التطبيق يدوياً – Manual Analysis**

📌 ببساطة: انت هتدخل الموقع **كأنك مستخدم عادي بس بعقلية هاكر**!

### **🛠️ إزاي نعمل كده؟**

1. تصفح الموقع بالكامل وخد بالك من الصفحات المهمة.
2. جرب تسجيل الدخول بحساب تجريبي وشوف إذا ظهرت صفحات جديدة بعد الدخول.
3. دور على أي نماذج إدخال بيانات (Forms)، زي البحث، تسجيل الدخول، التواصل معنا.
4. شوف الصفحات اللي ممكن تكون مخفية زي صفحة الأدمن أو إعدادات الحساب.
5. جرب تعدل في الروابط (مثلاً تزود `/admin` في آخر العنوان وتشوف إذا الصفحة هتفتح).

### 📌 **مثال عملي:**  
لو عندك موقع فيه صفحة تسجيل دخول:

`https://example.com/login`

جرب تدخل على صفحة الأدمن مباشرة:

`https://example.com/admin`

🔥 **لو الصفحة فتحت بدون تسجيل دخول، يبقى فيه ثغرة في المصادقة!**

### **🔎 الخلاصة:**  
✅ الفحص اليدوي بيكشف **الصفحات الحساسة والروابط المخفية** اللي ممكن تكون نقاط ضعف.

---

## **📌 (2) استخدام أدوات الزحف (Web Spidering)**

📌 مش كل الصفحات بتكون ظاهرة للمستخدم، وهنا بييجي دور أدوات الزحف اللي بتجيب كل روابط الموقع.

### **🛠️ الأدوات المستخدمة:**  
🔹 **Burp Suite Spider**  
🔹 **OWASP ZAP**  
🔹 **gobuster / dirb** (للكشف عن المجلدات المخفية)

### 📌 **مثال عملي باستخدام Burp Suite Spider:**

1. افتح **Burp Suite** وشغل **Proxy**.
2. تصفح الموقع، وخليه يسجل كل الروابط اللي بتزورها.
3. استخدم **Spider** عشان يجيب كل الروابط حتى المخفية منها.

🔥 **هتكتشف صفحات مش معروفة للمستخدم العادي!**

### **🔎 الخلاصة:**  
✅ أدوات الزحف بتكشف **كل الصفحات والروابط المخفية اللي ممكن تكون جزء من سطح الهجوم**.

---

## **📌 (3) تحليل استدعاءات الـ API (API Enumeration)**

📌 بعض التطبيقات بتستخدم **واجهات برمجة التطبيقات (API)** لنقل البيانات، ولو مش مؤمنة كويس ممكن تسرب بيانات حساسة!

### **🛠️ إزاي نحلل الـ API؟**

1. افتح **Developer Tools (F12) > Network > XHR** في المتصفح.
2. شوف كل الطلبات اللي الموقع بيبعتها للسيرفر.
3. جرب تعديل القيم اللي في الطلبات، وشوف لو السيرفر بيرجع بيانات مش مسموح بيها.

### 📌 **مثال عملي:**  
لو عندك API بتجيب بيانات المستخدم:
`GET /api/user?id=123 HTTP/1.1 Host: example.com`

جرب تغير `id=123` لـ `id=124`، وشوف لو هترجع بيانات مستخدم تاني.  
🔥 **لو ده حصل، يبقى عندنا ثغرة IDOR!**

### **🔎 الخلاصة:**  
✅ تحليل استدعاءات الـ API بيكشف **ثغرات تجاوز الصلاحيات أو تسريب البيانات**.

---

## **📌 (4) البحث عن الملفات المخفية (Discovering Hidden Files & Directories)**

📌 بعض المواقع بيكون فيها **ملفات مخفية** ممكن تحتوي على معلومات حساسة.

### **🛠️ الأدوات المستخدمة:**  
🔹 **Gobuster**  
🔹 **Dirbuster**

### 📌 **مثال عملي باستخدام Gobuster:**

`gobuster dir -u https://example.com -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt`

🔥 **لو لقيت ملفات حساسة، ممكن تستغلها للوصول لمعلومات سرية أو التحكم في الموقع!**

### **🔎 الخلاصة:**  
✅ البحث عن الملفات المخفية بيساعدك تلاقي **مجلدات غير محمية أو نسخ احتياطية ممكن تحتوي على بيانات خطيرة**.

---

## **📌 (5) تجربة إدخال بيانات غير متوقعة (Fuzzing & Input Testing)**

📌 بعض التطبيقات ما بتتعاملش صح مع المدخلات الغير متوقعة، وده ممكن يؤدي لثغرات زي **SQL Injection، XSS، و Command Injection**.

### **🛠️ الأدوات المستخدمة:**  
🔹 **wfuzz**  
🔹 **ffuf**

### 📌 **مثال عملي:**  
لو عندك فورم بحث في الموقع، جرب تدخل:

`' OR '1'='1`

🔥 **لو السيرفر رجّع بيانات، يبقى عندك ثغرة SQL Injection!**

### **🔎 الخلاصة:**  
✅ تجربة إدخال بيانات غير متوقعة ممكن تكشف **ثغرات خطيرة زي SQL Injection و XSS**.

---

# **🚀 خطوات عملية لرسم سطح الهجوم**

✅ **1- تصفح الموقع يدويًا، ولاحظ أي صفحات أو روابط حساسة.**  
✅ **2- استخدم أدوات الزحف زي Burp Suite لجمع كل الروابط المخفية.**  
✅ **3- حلل استدعاءات الـ API باستخدام Developer Tools وشوف لو في بيانات حساسة.**  
✅ **4- استخدم Gobuster للبحث عن الملفات والمجلدات المخفية.**  
✅ **5- جرّب إدخال بيانات غير متوقعة في نماذج الإدخال واختبار ثغرات SQL Injection و XSS.**

---

# **🎯 الخلاصة النهائية**

🔹 رسم سطح الهجوم هو **أهم خطوة في اختبار الاختراق**، لأنه بيحدد كل الأماكن اللي ممكن تهاجم منها التطبيق.  
🔹 استخدام الأدوات زي **Burp Suite، Gobuster، wfuzz** بيساعد في كشف نقاط الضعف بسرعة.  
🔹 كل ما حددت سطح الهجوم بدقة، كل ما فرصتك في إيجاد ثغرات قوية هتزيد! 😈💡