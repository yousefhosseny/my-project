# **🎯 الفكرة العامة**

في أي موقع أو تطبيق ويب، بيبقى فيه جزء ظاهر للمستخدم (الواجهة - Frontend) وجزء شغال في الخلفية (السيرفر - Backend).  
إحنا هنا بنحاول **نكتشف الوظائف اللي بيقوم بيها السيرفر في الخلفية**، واللي المستخدم العادي ميقدرش يشوفها بسهولة.  
**ليه؟** عشان نقدر نلاقي ثغرات أمنية نستخدمها في الاختبار الأمني.

---

## **1️⃣ تحليل الطلبات والاستجابات (Requests & Responses) – Burp Suite**

### **📌 الفكرة:**  
كل مرة بتضغط على زر، أو تملأ فورم، أو تعمل تسجيل دخول، بيتم إرسال طلب إلى السيرفر، والسيرفر بيرد عليك.  
تحليل الطلبات دي ممكن يخلينا نعرف **إيه العمليات اللي بتحصل في الخلفية، وإيه البيانات اللي السيرفر بيتعامل معاها**.

### **🛠️ إزاي نعمل كده؟**

1. شغل **Burp Suite** واعمل **Intercept** للطلبات اللي بتروح للسيرفر.
2. جرب تتصفح الموقع بشكل طبيعي، وشوف الطلبات اللي بتتبعت.
3. لاحظ:
    - هل في **بيانات حساسة** بتتبعت (زي توكنات، كوكيز، أو ID المستخدم)؟
    - هل في **أخطاء في استجابات السيرفر** ممكن تفصح عن معلومات داخلية؟
    - هل الموقع بيستخدم **Sessions أو JWT Tokens**؟

### 📌 **مثال عملي:**  
طلب تسجيل دخول:


`POST /login HTTP/1.1 Host: example.com Content-Type: application/x-www-form-urlencoded Content-Length: 40  username=admin&password=123456`

**رد السيرفر:**


`HTTP/1.1 200 OK Set-Cookie: sessionid=abc123`

### 🔥 **ماذا يعني هذا؟**

- السيرفر بيعتمد على **Sessions** لحفظ حالة المستخدم.
- لو جربنا نسرق أو نعدل `sessionid` ممكن نحصل على جلسة مستخدم تاني (**Session Hijacking**).

### **🔎 الخلاصة:**  
تحليل الطلبات والاستجابات بيكشف العمليات اللي السيرفر بيقوم بيها، وده ممكن يساعد في اكتشاف **تسريب بيانات أو ضعف المصادقة**.

---

## **2️⃣ تحليل استدعاءات الـ API (API Calls) – Developer Tools**

### **📌 الفكرة:**  
بعض المواقع بتستخدم **API** بدل تحميل الصفحات بالكامل، والـ API دي ممكن تحتوي على بيانات حساسة.  
تحليلها ممكن يخلينا **نكتشف وظائف السيرفر المخفية وثغرات تجاوز الصلاحيات**.

### **🛠️ إزاي نعمل كده؟**

1. افتح **Developer Tools (F12) > Network** في المتصفح.
2. شغل الفلتر على **XHR** عشان تشوف طلبات الـ API فقط.
3. جرب تضغط على أي زر بيعمل تحديث للبيانات، وشوف الطلبات اللي بتتبعت.
4. جرب تعدّل الـ `id` أو القيم المرسلة، وشوف لو تقدر توصل لبيانات مستخدم تاني.

### 📌 **مثال عملي:**  
طلب API بيجيب بيانات مستخدم:

`GET /api/user?id=123 HTTP/1.1 Host: example.com`

لو غيرت `id=123` لـ `id=124` وجبت بيانات شخص تاني، يبقى فيه **ثغرة IDOR** (**Insecure Direct Object Reference**).

### **🔎 الخلاصة:**  
تحليل الـ API بيساعد في اكتشاف **ثغرات تجاوز الصلاحيات وتسريب البيانات** لو الموقع مش بيعمل تحقق كويس.

---

## **3️⃣ تجربة إدخال بيانات غير متوقعة (Fuzzing & Input Manipulation)**

### **📌 الفكرة:**  
أي حاجة بتدخلها في الموقع، السيرفر بيتعامل معاها.  
لو السيرفر مش بيعمل فلترة كويسة، ممكن تستغل ده وتحقن بيانات ضارة تكشف وظائفه المخفية.

### **🛠️ إزاي نعمل كده؟**

- جرب تبعت **كود SQL** في أي فورم عشان تشوف لو في SQL Injection.
- جرب تبعت **كود JavaScript** عشان تشوف لو في XSS.
- جرب تبعت بيانات ضخمة جدًا عشان تشوف لو السيرفر بيهنج (DoS).

### 📌 **مثال عملي:**  
بدل ما تبعت:

`username=admin`

جرب تبعت:

`username=admin' OR '1'='1`

🔥 **لو السيرفر رجّع بيانات، يبقى عندك SQL Injection!**

### **🔎 الخلاصة:**  
تجربة إدخال بيانات غير متوقعة بتكشف ضعف الحماية، وده ممكن يؤدي لاختراقات خطيرة.

---

## **4️⃣ اختبار تحميل الملفات (File Upload Testing)**

### **📌 الفكرة:**  
بعض المواقع بتسمح لك ترفع ملفات، وده ممكن يكون **باب خلفي** لاختراق السيرفر لو مش محمي صح.

### **🛠️ إزاي نعمل كده؟**

1. جرب ترفع ملف **PHP** بدل صورة.
2. جرب تغير امتداد الملف (`.jpg` → `.php.jpg`).
3. جرب ترفع ملف **.htaccess** لتغيير إعدادات السيرفر.

### 📌 **مثال عملي:**  
لو الموقع بيسمح برفع الصور، جرب ترفع ملف `shell.php` فيه:


`<?php system($_GET['cmd']); ?>`

بعدين افتح:


`example.com/uploads/shell.php?cmd=whoami`

🔥 **لو السيرفر نفّذ الكود ده، يبقى تقدر تشغل أوامر وتسيطر عليه بالكامل!**

### **🔎 الخلاصة:**  
اختبار تحميل الملفات ممكن يكشف **ثغرات خطيرة تتيح لك تشغيل أكواد على السيرفر**.

---

# **🚀 خطوات عملية لتحديد وظائف السيرفر المخفية**

✅ **1- استخدم Burp Suite لمراقبة كل الطلبات اللي رايحة للسيرفر.**  
✅ **2- حلل استدعاءات الـ API باستخدام Developer Tools وشوف لو في بيانات مسربة أو ثغرات IDOR.**  
✅ **3- جرّب إدخال بيانات غير متوقعة (Fuzzing) عشان تكشف SQL Injection و XSS.**  
✅ **4- جرب ترفع ملفات ضارة وشوف رد السيرفر، لو رفعها عادي يبقى فيه مشكلة أمنية.**  
✅ **5- راقب ردود السيرفر، ولو فيه أخطاء تفصح عن تفاصيل داخلية، يبقى الموقع عنده ثغرات معلوماتية.**

---

# **🎯 الخلاصة النهائية**

🔹 لازم تفهم إيه العمليات اللي السيرفر بيعملها في الخلفية، وده بيتم عن طريق تحليل الطلبات والاستجابات.  
🔹 تحليل الـ API ممكن يكشف **تجاوز الصلاحيات وتسريب البيانات**.  
🔹 تجربة إدخال بيانات غير متوقعة بيكشف **ثغرات SQL Injection و XSS**.  
🔹 اختبار تحميل الملفات ممكن يكشف **ثغرات تحميل الملفات الضارة اللي بتسمح بالسيطرة على السيرفر**.

🔥 **المحترف مش بيكتفي بالسطحيات، لازم يفهم السيرفر بيشتغل إزاي عشان يعرف يهاجمه بشكل ذكي!** 😈💡