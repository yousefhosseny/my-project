## 🔥 **تحليل البروتوكولات في Network Enumeration – شرح بسيط وعميق**

### ✅ **يعني إيه تحليل بروتوكولات؟**

تحليل البروتوكولات (Network Enumeration) هو إنك **بتكتشف الخدمات والبروتوكولات اللي شغالة على الشبكة**، عشان تعرف إيه اللي ممكن تستغله أو تهاجمه.

#### 🎯 **أهداف تحليل البروتوكولات:**

- تعرف **إيه الأجهزة اللي شغالة** على الشبكة
- تحدد **إيه الخدمات المفتوحة** (زي HTTP, FTP, SSH, DNS...)
- تشوف **إيه البروتوكولات اللي فيها ثغرات** (مثلاً FTP بدون باسورد)
- تفهم **إزاي الأجهزة بتتواصل** عشان تلاقي طرق للهجوم

#### 🟢 **الخلاصة بالعامية المصرية:**

تحليل البروتوكولات معناه إنك بتشوف إيه الخدمات والبروتوكولات اللي شغالة على الشبكة، وتدور على أي حاجة غير مؤمنة ممكن تستغلها.

---

## 🛠 **إزاي نحلل البروتوكولات عمليًا؟**

### 1️⃣ **البحث عن البروتوكولات المفتوحة باستخدام [[Nmap]]**

📌 **Nmap بيكشف الخدمات اللي شغالة على الأجهزة في الشبكة**

#### 🔹 **فحص جهاز معين:**

🔍 ده بيعرض الخدمات اللي شغالة على الجهاز

```bash
nmap -sV 192.168.1.10
```

#### 🔹 **فحص شبكة كاملة:**

🔍 ده بيعرض كل الأجهزة اللي شغالة والخدمات بتاعتها

```bash
nmap -sV 192.168.1.0/24
```

#### 🔹 **البحث عن بروتوكولات غير مؤمنة (زي FTP بدون باسورد):**

```bash
nmap --script=ftp-anon 192.168.1.10
```

#### 🟢 **الخلاصة بالعامية المصرية:**

هنستخدم Nmap عشان نشوف إيه الأجهزة اللي شغالة، وإيه الخدمات اللي مفتوحة، وهل في حاجة مش مؤمنة ممكن نستغلها؟

---

### 2️⃣ **تحليل البيانات اللي بتتنقل في الشبكة باستخدام [[WiresharkUntitled]]**

📌 **Wireshark بيعرض كل البيانات اللي بتتنقل بين الأجهزة**

#### 🔹 **خطوات تشغيل Wireshark وتحليل البروتوكولات:**

1️⃣ افتح Wireshark  
2️⃣ اختار كارت الشبكة اللي عايز تراقبه  
3️⃣ اضغط على **Start** عشان تبدأ التقاط البيانات  
4️⃣ فلتر البروتوكولات المهمة:

- **HTTP** → `http`
- **DNS** → `dns`
- **FTP** → `ftp`
- **Telnet** → `telnet` (بروتوكول مشفرش البيانات)

#### 🔹 **إيه اللي بندور عليه في Wireshark؟**

✅ **باسوردات مكشوفة** لو البروتوكول مش متشفر (زي FTP, Telnet)  
✅ **Requests مش متشفرة** (زي HTTP بدل HTTPS)  
✅ **نقل بيانات حساسة** (زي Usernames, Tokens...)

#### 🟢 **الخلاصة بالعامية المصرية:**

Wireshark بيخلينا نشوف كل حاجة بتتنقل في الشبكة، ولو لقينا باسوردات مكشوفة أو بيانات حساسة، يبقى عندنا فرصة كويسة للاختراق!

---

### 3️⃣ **تحليل DNS لمعرفة أسماء السيرفرات المخفية**

📌 **DNS بيكشف لنا معلومات عن الشبكة والمواقع المرتبطة بيها**

#### 🔹 **استخدام [[Nslookup]] للحصول على معلومات DNS:**

```bash
nslookup example.com
```

#### 🔹 **استخدام [[dig]] لتحليل DNS بعمق:**

```bash
dig example.com any
```

#### 🔹 **استخدام [[Sublist3r]] لاكتشاف السب دومينز:**

```bash
sublist3r -d example.com
```

#### 🟢 **الخلاصة بالعامية المصرية:**

DNS بيكشف لنا مواقع وسيرفرات مخفية، ولو لقينا حاجة حساسة، ممكن تكون نقطة دخول للهجوم!

---

## 🔥 **خطوات عملية لـ Web Penetration Testing**

### ✅ **1️⃣ جمع المعلومات (Information Gathering)**

📌 **معرفة الخدمات والبروتوكولات المفتوحة باستخدام:**

- **[[Nmap]]** → عشان نعرف المنافذ المفتوحة والخدمات
- **[[WhatWeb]]** → عشان نعرف نوع السيرفر والتكنولوجيا المستخدمة
- **[[Sublist3r]]** → عشان نجيب السب دومينز

#### 🔹 **أوامر تنفيذية:**

```bash
nmap -sV example.com
whatweb example.com
sublist3r -d example.com
```

#### 🟢 **الخلاصة بالعامية المصرية:**

هنجمع معلومات عن الموقع، ونعرف السيرفر شغال بإيه، وإيه الخدمات اللي مفتوحة عليه.

---

### ✅ **2️⃣ البحث عن الثغرات (Vulnerability Scanning)**

📌 **البحث عن الثغرات في الموقع باستخدام:**

- **[[Nikto]]** → للبحث عن ثغرات في السيرفر
- **[[WPScan]]** → للبحث عن ثغرات في ووردبريس
- **[[SQLmap]]** → لاختبار ثغرات SQL Injection

#### 🔹 **أوامر تنفيذية:**

```bash
nikto -h example.com
wpscan --url example.com
sqlmap -u "http://example.com?id=1" --dbs
```

#### 🟢 **الخلاصة بالعامية المصرية:**

هنستخدم أدوات عشان ندور على ثغرات في الموقع، زي SQL Injection أو مشاكل في إعدادات السيرفر.

---

### ✅ **3️⃣ استغلال الثغرات (Exploitation)**

📌 **بعد ما نلاقي ثغرات، نحاول نستغلها باستخدام:**

- **Burp Suite** → لتعديل البيانات المرسلة للسيرفر
- **[[SQLmap]]** → لاستخراج البيانات لو في SQL Injection
- **[[Metasploit]]** → لاستغلال الثغرات الأمنية

#### 🔹 **مثال استغلال SQL Injection:**

```bash
sqlmap -u "http://example.com?id=1" --dump
```

#### 🟢 **الخلاصة بالعامية المصرية:**

بعد ما نلاقي ثغرات، هنستخدم الأدوات المناسبة عشان نحاول نستغلها ونشوف لو نقدر نسرق بيانات أو نتحكم في السيرفر.

---

### ✅ **4️⃣ بعد الاختراق – ماذا نفعل؟**

📌 **بعد ما نستغل الثغرات، نحتاج نفكر في:**

- هل قدرنا نوصل لبيانات حساسة؟
- هل قدرنا نحصل على صلاحيات أعلى؟
- هل ممكن ننفذ أكواد على السيرفر؟

📌 **إجراءات ما بعد الاختراق:**

- **الحصول على صلاحيات Root/Admin**
- **التنقل بين الأجهزة (Lateral Movement)**
- **الاحتفاظ بالدخول (Persistence)**

#### 🟢 **الخلاصة بالعامية المصرية:**

بعد الاختراق، بنشوف هل نقدر نتحكم في النظام بالكامل؟ وهل نقدر نوسع الاختراق أكتر؟

---

## 🚀 **الخلاصة النهائية**

💡 **تحليل البروتوكولات** بيكشف لنا إزاي الشبكة بتشتغل، وبيساعدنا نلاقي خدمات مفتوحة وثغرات نقدر نستغلها.  
🔍 **Web Pentesting خطواته:**  
1️⃣ جمع المعلومات (Nmap, WhatWeb, Sublist3r)  
2️⃣ البحث عن الثغرات (Nikto, WPScan, SQLmap)  
3️⃣ استغلال الثغرات (Burp Suite, SQLmap, Metasploit)  
4️⃣ ما بعد الاختراق (الحصول على صلاحيات، التنقل في الشبكة)

🚀 **كل الخطوات دي بتساعدك تعمل اختبار اختراق ناجح لموقع أو سيرفر!** 🔥