## **📌 Database Enumeration – اكتشاف قواعد البيانات النشطة (شرح عميق وبسيط) 🔥**

### **🟢 1️⃣ يعني إيه Database Enumeration؟ 🤔**

ببساطة، دي مرحلة في اختبار الاختراق **هدفها اكتشاف قواعد البيانات اللي شغالة على السيرفر** ومعرفة **نوعها، إصدارها، والجداول اللي فيها**. 🕵️‍♂️💻

✅ **ليه ده مهم؟**

- بتساعدك تعرف **نوع قاعدة البيانات** عشان تدور على **ثغرات مناسبة ليها**.
- ممكن تلاقي **بيانات حساسة** زي **أسماء المستخدمين، كلمات المرور، الحسابات الإدارية**! 😈
- بعض السيرفرات بتكون فيها **ثغرات معروفة حسب إصدار قاعدة البيانات**، وده بيسهل استغلالها.

---

## **🟢 2️⃣ إزاي تكتشف قواعد البيانات النشطة؟ 🔍**

### **✅ 1- فحص المنافذ المفتوحة (Port Scanning) باستخدام Nmap 🔥**

أول خطوة إنك **تفحص السيرفر** وتشوف هل فيه **خدمة قاعدة بيانات شغالة** ولا لأ.

#### **🎯 الهجوم العملي باستخدام [[Nmap]]:**

🔹 نفّذ الأمر ده عشان تفحص المنافذ المشهورة لقواعد البيانات:

```bash
nmap -p 1433,3306,5432,1521,27017 --open -sV target.com
```

🔹 **1433 → SQL Server**  
🔹 **3306 → MySQL**  
🔹 **5432 → PostgreSQL**  
🔹 **1521 → Oracle**  
🔹 **27017 → MongoDB**

🔥 **لو لقيت أي منفذ مفتوح، يبقى السيرفر بيشغل قاعدة بيانات، ودي أول خطوة للاستغلال!**

📌 **💡 الخلاصة بالعامية:**  
"بنبص على البوابات (المنافذ) اللي فاتحة على السيرفر، لو لقينا بوابة قاعدة بيانات مفتوحة، يبقى عندنا مدخل نكمل عليه!" 😈

---

### **✅ 2- استغلال الأخطاء الظاهرة (Error Messages) 😏**

بعض المواقع مش بتتعامل مع الأخطاء بشكل كويس، فلو حصل خطأ، **ممكن يبان نوع قاعدة البيانات اللي شغال بيها الموقع!**

📌 **🔍 مثال عملي:**

- لو جربت تدخل في مربع البحث حاجة زي:

```sql
' OR 1=1 -- 
```

- وظهرلك خطأ زي:  
    ❌ `"You have an error in your SQL syntax near 'OR 1=1 --'"`  
    🔥 **ده معناه إن الموقع بيستخدم MySQL!** 😈

📌 **💡 الخلاصة بالعامية:**  
"لو الموقع وقع في خطأ وظهرلك كلام يكشف نوع قاعدة البيانات، يبقى انت عرفت نوعها من غير تعب!" 🤯

---

### **✅ 3- استغلال صفحات تسجيل الدخول (Login Forms) 🚪**

📌 **بعض المواقع بتستخدم قواعد بيانات في تسجيل الدخول، ودي فرصة ذهبية لاكتشاف نوعها!**

#### **🎯 الهجوم العملي:**

- جرّب تسجيل الدخول باستخدام:

```sql
admin' --
```

🔥 **لو ظهر خطأ متعلق بـ SQL، يبقى الموقع بيستخدم قاعدة بيانات SQL!**

📌 **💡 الخلاصة بالعامية:**  
"لو الموقع بيرجع أخطاء عند تسجيل الدخول، ممكن نعرف نوع قاعدة البيانات اللي شغالة وندور على ثغرات ليها!" 😏

---

### **✅ 4- استغلال استعلامات الـ SQL Injection 🩸**

بعض المواقع بتكون فيها **ثغرات SQL Injection**، ودي بتساعدك تكتشف تفاصيل قاعدة البيانات.

📌 **🔍 مثال عملي:**  
1️⃣ جرّب الاستعلام ده في أي **نموذج إدخال بيانات**:

```sql
' UNION SELECT @@version, database() --
```

🔥 **لو رجعلك إصدار قاعدة البيانات، يبقى الموقع معرض للاختراق!**

#### **🎯 الهجوم العملي باستخدام SQLMap**

1️⃣ استخدم الأمر ده لفحص قاعدة البيانات تلقائيًا:

```bash
sqlmap -u "https://example.com/login.php?id=1" --dbs
```

🔥 **ده هيعرض لك كل قواعد البيانات في السيرفر!** 😈

📌 **💡 الخلاصة بالعامية:**  
"لو الموقع عنده ثغرة SQL Injection، نقدر نستخدمها لاستخراج بيانات قاعدة البيانات بسهولة!" 🚀

---

### **✅ 5- تحليل ملفات التكوين (Configuration Files) 🛠️**

📌 بعض المواقع بتحتفظ **بمعلومات قواعد البيانات في ملفات التكوين**، وده ممكن يساعدك تكتشف بيانات الدخول ليها.

#### **🎯 الهجوم العملي:**

1️⃣ استخدم **[[Google Dorks]]** للبحث عن ملفات تكوين مكشوفة:

```google
inurl:wp-config.php site:example.com
```

2️⃣ لو لقيت ملف زي `wp-config.php` أو `.env`، ممكن يكون فيه **بيانات دخول قاعدة البيانات!** 😈

📌 **💡 الخلاصة بالعامية:**  
"لو الموقع سايب ملف التكوين مكشوف، ممكن تلاقي بيانات دخول قاعدة البيانات بسهولة!" 🔥

---

## **🔥 الخطوات العملية لاختبار اختراق مواقع الويب (Web Penetration Testing) 🚀**

🔴 **1️⃣ جمع المعلومات (Reconnaissance) 🔍**  
✅ استخدم `whois` و `nslookup` و `shodan` لجمع بيانات عن الموقع.  
✅ افحص المنافذ باستخدام `nmap`.  
✅ ابحث عن الملفات المخفية بـ `dirb` أو `gobuster`.

🔴 **2️⃣ فحص الثغرات (Scanning & Enumeration) 🔎**  
✅ استخدم `nikto` و `wpscan` للبحث عن الثغرات.  
✅ استخدم `sqlmap` لاختبار ثغرات SQL Injection.  
✅ جرّب هجمات XSS في النماذج والمدخلات.

🔴 **3️⃣ استغلال الثغرات (Exploitation) 😈**  
✅ استخدم `burp suite` لاعتراض البيانات وتحليلها.  
✅ استغل أخطاء المصادقة، مثل تجاوز تسجيل الدخول.  
✅ حاول رفع صلاحياتك على السيرفر لو لقيت مدخل مناسب.

🔴 **4️⃣ الوصول للنظام والسيطرة (Privilege Escalation) 🔥**  
✅ لو اخترقت الموقع، ابحث عن ملفات تكوين فيها بيانات حساسة.  
✅ لو حصلت على وصول للسيرفر، ابحث عن ثغرات لرفع الصلاحيات.

🔴 **5️⃣ كتابة التقرير (Reporting) 📝**  
✅ وثّق كل الثغرات اللي اكتشفتها وأدلة استغلالها.  
✅ اقترح حلول لإصلاحها بشكل آمن.

---

## **🔥💡 ملخص شامل بالعامية 🔥💡**

1️⃣ **بنشوف قاعدة البيانات شغالة ولا لأ** عن طريق فحص المنافذ بـ `nmap`.  
2️⃣ **بنحاول نوقع الموقع في خطأ** عشان يكشف نوع قاعدة البيانات.  
3️⃣ **بنستغل صفحات تسجيل الدخول** لاكتشاف وجود قاعدة بيانات.  
4️⃣ **بنستخدم SQL Injection** عشان نستخرج البيانات المهمة.  
5️⃣ **بنبحث عن ملفات تكوين مكشوفة** فيها بيانات الدخول للقاعدة.

🚀 **وفي الآخر، بنستخدم الأدوات المناسبة لاختراق الموقع واستغلال الثغرات! 😈🔥**